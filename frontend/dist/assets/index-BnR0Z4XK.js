function Qf(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function mu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Yf(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var gl={exports:{}},Es={},yl={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function py(){if(kh)return ve;kh=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function x(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function N(b,L,W){this.props=b,this.context=L,this.refs=S,this.updater=W||j}N.prototype.isReactComponent={},N.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function U(){}U.prototype=N.prototype;function M(b,L,W){this.props=b,this.context=L,this.refs=S,this.updater=W||j}var I=M.prototype=new U;I.constructor=M,C(I,N.prototype),I.isPureReactComponent=!0;var H=Array.isArray,ee=Object.prototype.hasOwnProperty,X={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function de(b,L,W){var J,ue={},ce=null,ge=null;if(L!=null)for(J in L.ref!==void 0&&(ge=L.ref),L.key!==void 0&&(ce=""+L.key),L)ee.call(L,J)&&!ne.hasOwnProperty(J)&&(ue[J]=L[J]);var O=arguments.length-2;if(O===1)ue.children=W;else if(1<O){for(var K=Array(O),ie=0;ie<O;ie++)K[ie]=arguments[ie+2];ue.children=K}if(b&&b.defaultProps)for(J in O=b.defaultProps,O)ue[J]===void 0&&(ue[J]=O[J]);return{$$typeof:i,type:b,key:ce,ref:ge,props:ue,_owner:X.current}}function me(b,L){return{$$typeof:i,type:b.type,key:L,ref:b.ref,props:b.props,_owner:b._owner}}function we(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function Re(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(W){return L[W]})}var Ue=/\/+/g;function ye(b,L){return typeof b=="object"&&b!==null&&b.key!=null?Re(""+b.key):L.toString(36)}function be(b,L,W,J,ue){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var ge=!1;if(b===null)ge=!0;else switch(ce){case"string":case"number":ge=!0;break;case"object":switch(b.$$typeof){case i:case r:ge=!0}}if(ge)return ge=b,ue=ue(ge),b=J===""?"."+ye(ge,0):J,H(ue)?(W="",b!=null&&(W=b.replace(Ue,"$&/")+"/"),be(ue,L,W,"",function(ie){return ie})):ue!=null&&(we(ue)&&(ue=me(ue,W+(!ue.key||ge&&ge.key===ue.key?"":(""+ue.key).replace(Ue,"$&/")+"/")+b)),L.push(ue)),1;if(ge=0,J=J===""?".":J+":",H(b))for(var O=0;O<b.length;O++){ce=b[O];var K=J+ye(ce,O);ge+=be(ce,L,W,K,ue)}else if(K=x(b),typeof K=="function")for(b=K.call(b),O=0;!(ce=b.next()).done;)ce=ce.value,K=J+ye(ce,O++),ge+=be(ce,L,W,K,ue);else if(ce==="object")throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ge}function Ae(b,L,W){if(b==null)return b;var J=[],ue=0;return be(b,J,"","",function(ce){return L.call(W,ce,ue++)}),J}function pe(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(W){(b._status===0||b._status===-1)&&(b._status=1,b._result=W)},function(W){(b._status===0||b._status===-1)&&(b._status=2,b._result=W)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var B={current:null},z={transition:null},D={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:X};function P(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Ae,forEach:function(b,L,W){Ae(b,function(){L.apply(this,arguments)},W)},count:function(b){var L=0;return Ae(b,function(){L++}),L},toArray:function(b){return Ae(b,function(L){return L})||[]},only:function(b){if(!we(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ve.Component=N,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=M,ve.StrictMode=o,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,ve.act=P,ve.cloneElement=function(b,L,W){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var J=C({},b.props),ue=b.key,ce=b.ref,ge=b._owner;if(L!=null){if(L.ref!==void 0&&(ce=L.ref,ge=X.current),L.key!==void 0&&(ue=""+L.key),b.type&&b.type.defaultProps)var O=b.type.defaultProps;for(K in L)ee.call(L,K)&&!ne.hasOwnProperty(K)&&(J[K]=L[K]===void 0&&O!==void 0?O[K]:L[K])}var K=arguments.length-2;if(K===1)J.children=W;else if(1<K){O=Array(K);for(var ie=0;ie<K;ie++)O[ie]=arguments[ie+2];J.children=O}return{$$typeof:i,type:b.type,key:ue,ref:ce,props:J,_owner:ge}},ve.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},ve.createElement=de,ve.createFactory=function(b){var L=de.bind(null,b);return L.type=b,L},ve.createRef=function(){return{current:null}},ve.forwardRef=function(b){return{$$typeof:p,render:b}},ve.isValidElement=we,ve.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:pe}},ve.memo=function(b,L){return{$$typeof:g,type:b,compare:L===void 0?null:L}},ve.startTransition=function(b){var L=z.transition;z.transition={};try{b()}finally{z.transition=L}},ve.unstable_act=P,ve.useCallback=function(b,L){return B.current.useCallback(b,L)},ve.useContext=function(b){return B.current.useContext(b)},ve.useDebugValue=function(){},ve.useDeferredValue=function(b){return B.current.useDeferredValue(b)},ve.useEffect=function(b,L){return B.current.useEffect(b,L)},ve.useId=function(){return B.current.useId()},ve.useImperativeHandle=function(b,L,W){return B.current.useImperativeHandle(b,L,W)},ve.useInsertionEffect=function(b,L){return B.current.useInsertionEffect(b,L)},ve.useLayoutEffect=function(b,L){return B.current.useLayoutEffect(b,L)},ve.useMemo=function(b,L){return B.current.useMemo(b,L)},ve.useReducer=function(b,L,W){return B.current.useReducer(b,L,W)},ve.useRef=function(b){return B.current.useRef(b)},ve.useState=function(b){return B.current.useState(b)},ve.useSyncExternalStore=function(b,L,W){return B.current.useSyncExternalStore(b,L,W)},ve.useTransition=function(){return B.current.useTransition()},ve.version="18.3.1",ve}var Eh;function gu(){return Eh||(Eh=1,yl.exports=py()),yl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function my(){if(Nh)return Es;Nh=1;var i=gu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var v,w={},x=null,j=null;g!==void 0&&(x=""+g),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(j=m.ref);for(v in m)o.call(m,v)&&!u.hasOwnProperty(v)&&(w[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)w[v]===void 0&&(w[v]=m[v]);return{$$typeof:r,type:p,key:x,ref:j,props:w,_owner:l.current}}return Es.Fragment=n,Es.jsx=d,Es.jsxs=d,Es}var Ch;function gy(){return Ch||(Ch=1,gl.exports=my()),gl.exports}var c=gy(),A=gu();const Xf=mu(A),yy=Qf({__proto__:null,default:Xf},[A]);var Qi={},vl={exports:{}},pt={},wl={exports:{}},xl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function vy(){return Ph||(Ph=1,function(i){function r(z,D){var P=z.length;z.push(D);e:for(;0<P;){var b=P-1>>>1,L=z[b];if(0<l(L,D))z[b]=D,z[P]=L,P=b;else break e}}function n(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var D=z[0],P=z.pop();if(P!==D){z[0]=P;e:for(var b=0,L=z.length,W=L>>>1;b<W;){var J=2*(b+1)-1,ue=z[J],ce=J+1,ge=z[ce];if(0>l(ue,P))ce<L&&0>l(ge,ue)?(z[b]=ge,z[ce]=P,b=ce):(z[b]=ue,z[J]=P,b=J);else if(ce<L&&0>l(ge,P))z[b]=ge,z[ce]=P,b=ce;else break e}}return D}function l(z,D){var P=z.sortIndex-D.sortIndex;return P!==0?P:z.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],v=1,w=null,x=3,j=!1,C=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var D=n(g);D!==null;){if(D.callback===null)o(g);else if(D.startTime<=z)o(g),D.sortIndex=D.expirationTime,r(m,D);else break;D=n(g)}}function H(z){if(S=!1,I(z),!C)if(n(m)!==null)C=!0,pe(ee);else{var D=n(g);D!==null&&B(H,D.startTime-z)}}function ee(z,D){C=!1,S&&(S=!1,U(de),de=-1),j=!0;var P=x;try{for(I(D),w=n(m);w!==null&&(!(w.expirationTime>D)||z&&!Re());){var b=w.callback;if(typeof b=="function"){w.callback=null,x=w.priorityLevel;var L=b(w.expirationTime<=D);D=i.unstable_now(),typeof L=="function"?w.callback=L:w===n(m)&&o(m),I(D)}else o(m);w=n(m)}if(w!==null)var W=!0;else{var J=n(g);J!==null&&B(H,J.startTime-D),W=!1}return W}finally{w=null,x=P,j=!1}}var X=!1,ne=null,de=-1,me=5,we=-1;function Re(){return!(i.unstable_now()-we<me)}function Ue(){if(ne!==null){var z=i.unstable_now();we=z;var D=!0;try{D=ne(!0,z)}finally{D?ye():(X=!1,ne=null)}}else X=!1}var ye;if(typeof M=="function")ye=function(){M(Ue)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ae=be.port2;be.port1.onmessage=Ue,ye=function(){Ae.postMessage(null)}}else ye=function(){N(Ue,0)};function pe(z){ne=z,X||(X=!0,ye())}function B(z,D){de=N(function(){z(i.unstable_now())},D)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){C||j||(C=!0,pe(ee))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(z){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var P=x;x=D;try{return z()}finally{x=P}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,D){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var P=x;x=z;try{return D()}finally{x=P}},i.unstable_scheduleCallback=function(z,D,P){var b=i.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?b+P:b):P=b,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,z={id:v++,callback:D,priorityLevel:z,startTime:P,expirationTime:L,sortIndex:-1},P>b?(z.sortIndex=P,r(g,z),n(m)===null&&z===n(g)&&(S?(U(de),de=-1):S=!0,B(H,P-b))):(z.sortIndex=L,r(m,z),C||j||(C=!0,pe(ee))),z},i.unstable_shouldYield=Re,i.unstable_wrapCallback=function(z){var D=x;return function(){var P=x;x=D;try{return z.apply(this,arguments)}finally{x=P}}}}(xl)),xl}var Th;function wy(){return Th||(Th=1,wl.exports=vy()),wl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function xy(){if(Oh)return pt;Oh=1;var i=gu(),r=wy();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function x(e){return m.call(w,e)?!0:m.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function j(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,s,a){if(t===null||typeof t>"u"||j(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,s,a,h,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new S(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,M);N[t]=new S(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,M);N[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,M);N[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,s,a){var h=N.hasOwnProperty(t)?N[t]:null;(h!==null?h.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,s,h,a)&&(s=null),a||h===null?x(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(t=h.attributeName,a=h.attributeNamespace,s===null?e.removeAttribute(t):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var H=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),X=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Re=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),z=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,b;function L(e){if(b===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var W=!1;function J(e,t){if(!e||W)return"";W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var a=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){a=$}e.call(t.prototype)}else{try{throw Error()}catch($){a=$}e()}}catch($){if($&&a&&typeof $.stack=="string"){for(var h=$.stack.split(`
`),f=a.stack.split(`
`),y=h.length-1,_=f.length-1;1<=y&&0<=_&&h[y]!==f[_];)_--;for(;1<=y&&0<=_;y--,_--)if(h[y]!==f[_]){if(y!==1||_!==1)do if(y--,_--,0>_||h[y]!==f[_]){var k=`
`+h[y].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=y&&0<=_);break}}}finally{W=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?L(e):""}function ue(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case X:return"Portal";case me:return"Profiler";case de:return"StrictMode";case ye:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Re:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case Ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function O(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=K(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){e._valueTracker||(e._valueTracker=ie(e))}function st(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=K(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Qe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lt(e,t){var s=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function So(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=O(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qr(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function zn(e,t){Qr(e,t);var s=O(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ko(e,t.type,s):t.hasOwnProperty("defaultValue")&&ko(e,t.type,O(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ko(e,t,s){(t!=="number"||Qe(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Bn=Array.isArray;function Yr(e,t,s,a){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&a&&(e[s].defaultSelected=!0)}else{for(s=""+O(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Bn(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:O(s)}}function $u(e,t){var s=O(t.value),a=O(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,h){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function zu(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function Bu(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,h=zu(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,h):e[s]=h}}var wm=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(e,t){if(t){if(wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Po(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ro=null,Xr=null,Zr=null;function Fu(e){if(e=ds(e)){if(typeof Ro!="function")throw Error(n(280));var t=e.stateNode;t&&(t=di(t),Ro(e.stateNode,e.type,t))}}function qu(e){Xr?Zr?Zr.push(e):Zr=[e]:Xr=e}function Wu(){if(Xr){var e=Xr,t=Zr;if(Zr=Xr=null,Fu(e),t)for(e=0;e<t.length;e++)Fu(t[e])}}function Vu(e,t){return e(t)}function Hu(){}var Ao=!1;function Ku(e,t,s){if(Ao)return e(t,s);Ao=!0;try{return Vu(e,t,s)}finally{Ao=!1,(Xr!==null||Zr!==null)&&(Hu(),Wu())}}function Wn(e,t){var s=e.stateNode;if(s===null)return null;var a=di(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Io=!1;if(p)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Io=!1}function xm(e,t,s,a,h,f,y,_,k){var $=Array.prototype.slice.call(arguments,3);try{t.apply(s,$)}catch(q){this.onError(q)}}var Hn=!1,qs=null,Ws=!1,Lo=null,bm={onError:function(e){Hn=!0,qs=e}};function _m(e,t,s,a,h,f,y,_,k){Hn=!1,qs=null,xm.apply(bm,arguments)}function jm(e,t,s,a,h,f,y,_,k){if(_m.apply(this,arguments),Hn){if(Hn){var $=qs;Hn=!1,qs=null}else throw Error(n(198));Ws||(Ws=!0,Lo=$)}}function Pr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ju(e){if(Pr(e)!==e)throw Error(n(188))}function Sm(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(a=h.return,a!==null){s=a;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return Ju(h),e;if(f===a)return Ju(h),t;f=f.sibling}throw Error(n(188))}if(s.return!==a.return)s=h,a=f;else{for(var y=!1,_=h.child;_;){if(_===s){y=!0,s=h,a=f;break}if(_===a){y=!0,a=h,s=f;break}_=_.sibling}if(!y){for(_=f.child;_;){if(_===s){y=!0,s=f,a=h;break}if(_===a){y=!0,a=f,s=h;break}_=_.sibling}if(!y)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function Qu(e){return e=Sm(e),e!==null?Yu(e):null}function Yu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yu(e);if(t!==null)return t;e=e.sibling}return null}var Xu=r.unstable_scheduleCallback,Zu=r.unstable_cancelCallback,km=r.unstable_shouldYield,Em=r.unstable_requestPaint,Me=r.unstable_now,Nm=r.unstable_getCurrentPriorityLevel,$o=r.unstable_ImmediatePriority,ec=r.unstable_UserBlockingPriority,Vs=r.unstable_NormalPriority,Cm=r.unstable_LowPriority,tc=r.unstable_IdlePriority,Hs=null,Bt=null;function Pm(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hs,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Rm,Tm=Math.log,Om=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Tm(e)/Om|0)|0}var Ks=64,Gs=4194304;function Kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,h=e.suspendedLanes,f=e.pingedLanes,y=s&268435455;if(y!==0){var _=y&~h;_!==0?a=Kn(_):(f&=y,f!==0&&(a=Kn(f)))}else y=s&~h,y!==0?a=Kn(y):f!==0&&(a=Kn(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&h)===0&&(h=a&-a,f=t&-t,h>=f||h===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Pt(t),h=1<<s,a|=e[s],t&=~h;return a}function Am(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Im(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Pt(f),_=1<<y,k=h[y];k===-1?((_&s)===0||(_&a)!==0)&&(h[y]=Am(_,t)):k<=t&&(e.expiredLanes|=_),f&=~_}}function Do(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rc(){var e=Ks;return Ks<<=1,(Ks&4194240)===0&&(Ks=64),e}function Uo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Gn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=s}function Lm(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Pt(s),f=1<<h;t[h]=0,a[h]=-1,e[h]=-1,s&=~f}}function Mo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Pt(s),h=1<<a;h&t|e[a]&t&&(e[a]|=t),s&=~h}}var Se=0;function nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var sc,zo,ic,oc,ac,Bo=!1,Qs=[],tr=null,rr=null,nr=null,Jn=new Map,Qn=new Map,sr=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(t.pointerId)}}function Yn(e,t,s,a,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[h]},t!==null&&(t=ds(t),t!==null&&zo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Dm(e,t,s,a,h){switch(t){case"focusin":return tr=Yn(tr,e,t,s,a,h),!0;case"dragenter":return rr=Yn(rr,e,t,s,a,h),!0;case"mouseover":return nr=Yn(nr,e,t,s,a,h),!0;case"pointerover":var f=h.pointerId;return Jn.set(f,Yn(Jn.get(f)||null,e,t,s,a,h)),!0;case"gotpointercapture":return f=h.pointerId,Qn.set(f,Yn(Qn.get(f)||null,e,t,s,a,h)),!0}return!1}function uc(e){var t=Tr(e.target);if(t!==null){var s=Pr(t);if(s!==null){if(t=s.tag,t===13){if(t=Gu(s),t!==null){e.blockedOn=t,ac(e.priority,function(){ic(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);To=a,s.target.dispatchEvent(a),To=null}else return t=ds(s),t!==null&&zo(t),e.blockedOn=s,!1;t.shift()}return!0}function cc(e,t,s){Ys(e)&&s.delete(t)}function Um(){Bo=!1,tr!==null&&Ys(tr)&&(tr=null),rr!==null&&Ys(rr)&&(rr=null),nr!==null&&Ys(nr)&&(nr=null),Jn.forEach(cc),Qn.forEach(cc)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Um)))}function Zn(e){function t(h){return Xn(h,e)}if(0<Qs.length){Xn(Qs[0],e);for(var s=1;s<Qs.length;s++){var a=Qs[s];a.blockedOn===e&&(a.blockedOn=null)}}for(tr!==null&&Xn(tr,e),rr!==null&&Xn(rr,e),nr!==null&&Xn(nr,e),Jn.forEach(t),Qn.forEach(t),s=0;s<sr.length;s++)a=sr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<sr.length&&(s=sr[0],s.blockedOn===null);)uc(s),s.blockedOn===null&&sr.shift()}var en=H.ReactCurrentBatchConfig,Xs=!0;function Mm(e,t,s,a){var h=Se,f=en.transition;en.transition=null;try{Se=1,Fo(e,t,s,a)}finally{Se=h,en.transition=f}}function zm(e,t,s,a){var h=Se,f=en.transition;en.transition=null;try{Se=4,Fo(e,t,s,a)}finally{Se=h,en.transition=f}}function Fo(e,t,s,a){if(Xs){var h=qo(e,t,s,a);if(h===null)oa(e,t,a,Zs,s),lc(e,a);else if(Dm(h,e,t,s,a))a.stopPropagation();else if(lc(e,a),t&4&&-1<$m.indexOf(e)){for(;h!==null;){var f=ds(h);if(f!==null&&sc(f),f=qo(e,t,s,a),f===null&&oa(e,t,a,Zs,s),f===h)break;h=f}h!==null&&a.stopPropagation()}else oa(e,t,a,null,s)}}var Zs=null;function qo(e,t,s,a){if(Zs=null,e=Oo(a),e=Tr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Gu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zs=e,null}function dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case $o:return 1;case ec:return 4;case Vs:case Cm:return 16;case tc:return 536870912;default:return 16}default:return 16}}var ir=null,Wo=null,ei=null;function hc(){if(ei)return ei;var e,t=Wo,s=t.length,a,h="value"in ir?ir.value:ir.textContent,f=h.length;for(e=0;e<s&&t[e]===h[e];e++);var y=s-e;for(a=1;a<=y&&t[s-a]===h[f-a];a++);return ei=h.slice(e,1<a?1-a:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function fc(){return!1}function mt(e){function t(s,a,h,f,y){this._reactName=s,this._targetInst=h,this.type=a,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:fc,this.isPropagationStopped=fc,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=mt(tn),es=P({},tn,{view:0,detail:0}),Bm=mt(es),Ho,Ko,ts,ni=P({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(Ho=e.screenX-ts.screenX,Ko=e.screenY-ts.screenY):Ko=Ho=0,ts=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),pc=mt(ni),Fm=P({},ni,{dataTransfer:0}),qm=mt(Fm),Wm=P({},es,{relatedTarget:0}),Go=mt(Wm),Vm=P({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=mt(Vm),Km=P({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=mt(Km),Jm=P({},tn,{data:0}),mc=mt(Jm),Qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xm[e])?!!t[e]:!1}function Jo(){return Zm}var eg=P({},es,{key:function(e){if(e.key){var t=Qm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tg=mt(eg),rg=P({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=mt(rg),ng=P({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),sg=mt(ng),ig=P({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),og=mt(ig),ag=P({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lg=mt(ag),ug=[9,13,27,32],Qo=p&&"CompositionEvent"in window,rs=null;p&&"documentMode"in document&&(rs=document.documentMode);var cg=p&&"TextEvent"in window&&!rs,yc=p&&(!Qo||rs&&8<rs&&11>=rs),vc=" ",wc=!1;function xc(e,t){switch(e){case"keyup":return ug.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function dg(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(wc=!0,vc);case"textInput":return e=t.data,e===vc&&wc?null:e;default:return null}}function hg(e,t){if(rn)return e==="compositionend"||!Qo&&xc(e,t)?(e=hc(),ei=Wo=ir=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fg[e.type]:t==="textarea"}function jc(e,t,s,a){qu(a),t=li(t,"onChange"),0<t.length&&(s=new Vo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var ns=null,ss=null;function pg(e){Bc(e,0)}function si(e){var t=ln(e);if(st(t))return e}function mg(e,t){if(e==="change")return t}var Sc=!1;if(p){var Yo;if(p){var Xo="oninput"in document;if(!Xo){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Xo=typeof kc.oninput=="function"}Yo=Xo}else Yo=!1;Sc=Yo&&(!document.documentMode||9<document.documentMode)}function Ec(){ns&&(ns.detachEvent("onpropertychange",Nc),ss=ns=null)}function Nc(e){if(e.propertyName==="value"&&si(ss)){var t=[];jc(t,ss,e,Oo(e)),Ku(pg,t)}}function gg(e,t,s){e==="focusin"?(Ec(),ns=t,ss=s,ns.attachEvent("onpropertychange",Nc)):e==="focusout"&&Ec()}function yg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(ss)}function vg(e,t){if(e==="click")return si(t)}function wg(e,t){if(e==="input"||e==="change")return si(t)}function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:xg;function is(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var h=s[a];if(!m.call(t,h)||!Tt(e[h],t[h]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var s=Cc(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cc(s)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oc(){for(var e=window,t=Qe();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Qe(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=Oc(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Tc(s.ownerDocument.documentElement,s)){if(a!==null&&Zo(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,f=Math.min(a.start,h);a=a.end===void 0?f:Math.min(a.end,h),!e.extend&&f>a&&(h=a,a=f,f=h),h=Pc(s,f);var y=Pc(s,a);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _g=p&&"documentMode"in document&&11>=document.documentMode,nn=null,ea=null,os=null,ta=!1;function Rc(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ta||nn==null||nn!==Qe(a)||(a=nn,"selectionStart"in a&&Zo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),os&&is(os,a)||(os=a,a=li(ea,"onSelect"),0<a.length&&(t=new Vo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=nn)))}function ii(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var sn={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},ra={},Ac={};p&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function oi(e){if(ra[e])return ra[e];if(!sn[e])return e;var t=sn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ac)return ra[e]=t[s];return e}var Ic=oi("animationend"),Lc=oi("animationiteration"),$c=oi("animationstart"),Dc=oi("transitionend"),Uc=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Uc.set(e,t),u(t,[e])}for(var na=0;na<Mc.length;na++){var sa=Mc[na],jg=sa.toLowerCase(),Sg=sa[0].toUpperCase()+sa.slice(1);or(jg,"on"+Sg)}or(Ic,"onAnimationEnd"),or(Lc,"onAnimationIteration"),or($c,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Dc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function zc(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,jm(a,t,void 0,e),e.currentTarget=null}function Bc(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],h=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var y=a.length-1;0<=y;y--){var _=a[y],k=_.instance,$=_.currentTarget;if(_=_.listener,k!==f&&h.isPropagationStopped())break e;zc(h,_,$),f=k}else for(y=0;y<a.length;y++){if(_=a[y],k=_.instance,$=_.currentTarget,_=_.listener,k!==f&&h.isPropagationStopped())break e;zc(h,_,$),f=k}}}if(Ws)throw e=Lo,Ws=!1,Lo=null,e}function Ce(e,t){var s=t[ha];s===void 0&&(s=t[ha]=new Set);var a=e+"__bubble";s.has(a)||(Fc(t,e,2,!1),s.add(a))}function ia(e,t,s){var a=0;t&&(a|=4),Fc(s,e,a,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[ai]){e[ai]=!0,o.forEach(function(s){s!=="selectionchange"&&(kg.has(s)||ia(s,!1,e),ia(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,ia("selectionchange",!1,t))}}function Fc(e,t,s,a){switch(dc(t)){case 1:var h=Mm;break;case 4:h=zm;break;default:h=Fo}s=h.bind(null,t,s,e),h=void 0,!Io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function oa(e,t,s,a,h){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var _=a.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(y===4)for(y=a.return;y!==null;){var k=y.tag;if((k===3||k===4)&&(k=y.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;y=y.return}for(;_!==null;){if(y=Tr(_),y===null)return;if(k=y.tag,k===5||k===6){a=f=y;continue e}_=_.parentNode}}a=a.return}Ku(function(){var $=f,q=Oo(s),V=[];e:{var F=Uc.get(e);if(F!==void 0){var Q=Vo,Z=e;switch(e){case"keypress":if(ti(s)===0)break e;case"keydown":case"keyup":Q=tg;break;case"focusin":Z="focus",Q=Go;break;case"focusout":Z="blur",Q=Go;break;case"beforeblur":case"afterblur":Q=Go;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=sg;break;case Ic:case Lc:case $c:Q=Hm;break;case Dc:Q=og;break;case"scroll":Q=Bm;break;case"wheel":Q=lg;break;case"copy":case"cut":case"paste":Q=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=gc}var te=(t&4)!==0,ze=!te&&e==="scroll",T=te?F!==null?F+"Capture":null:F;te=[];for(var E=$,R;E!==null;){R=E;var G=R.stateNode;if(R.tag===5&&G!==null&&(R=G,T!==null&&(G=Wn(E,T),G!=null&&te.push(us(E,G,R)))),ze)break;E=E.return}0<te.length&&(F=new Q(F,Z,null,s,q),V.push({event:F,listeners:te}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",F&&s!==To&&(Z=s.relatedTarget||s.fromElement)&&(Tr(Z)||Z[Ht]))break e;if((Q||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(Z=s.relatedTarget||s.toElement,Q=$,Z=Z?Tr(Z):null,Z!==null&&(ze=Pr(Z),Z!==ze||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=$),Q!==Z)){if(te=pc,G="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(te=gc,G="onPointerLeave",T="onPointerEnter",E="pointer"),ze=Q==null?F:ln(Q),R=Z==null?F:ln(Z),F=new te(G,E+"leave",Q,s,q),F.target=ze,F.relatedTarget=R,G=null,Tr(q)===$&&(te=new te(T,E+"enter",Z,s,q),te.target=R,te.relatedTarget=ze,G=te),ze=G,Q&&Z)t:{for(te=Q,T=Z,E=0,R=te;R;R=on(R))E++;for(R=0,G=T;G;G=on(G))R++;for(;0<E-R;)te=on(te),E--;for(;0<R-E;)T=on(T),R--;for(;E--;){if(te===T||T!==null&&te===T.alternate)break t;te=on(te),T=on(T)}te=null}else te=null;Q!==null&&qc(V,F,Q,te,!1),Z!==null&&ze!==null&&qc(V,ze,Z,te,!0)}}e:{if(F=$?ln($):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var se=mg;else if(_c(F))if(Sc)se=wg;else{se=yg;var ae=gg}else(Q=F.nodeName)&&Q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(se=vg);if(se&&(se=se(e,$))){jc(V,se,s,q);break e}ae&&ae(e,F,$),e==="focusout"&&(ae=F._wrapperState)&&ae.controlled&&F.type==="number"&&ko(F,"number",F.value)}switch(ae=$?ln($):window,e){case"focusin":(_c(ae)||ae.contentEditable==="true")&&(nn=ae,ea=$,os=null);break;case"focusout":os=ea=nn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,Rc(V,s,q);break;case"selectionchange":if(_g)break;case"keydown":case"keyup":Rc(V,s,q)}var le;if(Qo)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else rn?xc(e,s)&&(fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(yc&&s.locale!=="ko"&&(rn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&rn&&(le=hc()):(ir=q,Wo="value"in ir?ir.value:ir.textContent,rn=!0)),ae=li($,fe),0<ae.length&&(fe=new mc(fe,e,null,s,q),V.push({event:fe,listeners:ae}),le?fe.data=le:(le=bc(s),le!==null&&(fe.data=le)))),(le=cg?dg(e,s):hg(e,s))&&($=li($,"onBeforeInput"),0<$.length&&(q=new mc("onBeforeInput","beforeinput",null,s,q),V.push({event:q,listeners:$}),q.data=le))}Bc(V,t)})}function us(e,t,s){return{instance:e,listener:t,currentTarget:s}}function li(e,t){for(var s=t+"Capture",a=[];e!==null;){var h=e,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=Wn(e,s),f!=null&&a.unshift(us(e,f,h)),f=Wn(e,t),f!=null&&a.push(us(e,f,h))),e=e.return}return a}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qc(e,t,s,a,h){for(var f=t._reactName,y=[];s!==null&&s!==a;){var _=s,k=_.alternate,$=_.stateNode;if(k!==null&&k===a)break;_.tag===5&&$!==null&&(_=$,h?(k=Wn(s,f),k!=null&&y.unshift(us(s,k,_))):h||(k=Wn(s,f),k!=null&&y.push(us(s,k,_)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var Eg=/\r\n?/g,Ng=/\u0000|\uFFFD/g;function Wc(e){return(typeof e=="string"?e:""+e).replace(Eg,`
`).replace(Ng,"")}function ui(e,t,s){if(t=Wc(t),Wc(e)!==t&&s)throw Error(n(425))}function ci(){}var aa=null,la=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Cg=typeof clearTimeout=="function"?clearTimeout:void 0,Vc=typeof Promise=="function"?Promise:void 0,Pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Vc<"u"?function(e){return Vc.resolve(null).then(e).catch(Tg)}:ca;function Tg(e){setTimeout(function(){throw e})}function da(e,t){var s=t,a=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(a===0){e.removeChild(h),Zn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=h}while(s);Zn(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),Ft="__reactFiber$"+an,cs="__reactProps$"+an,Ht="__reactContainer$"+an,ha="__reactEvents$"+an,Og="__reactListeners$"+an,Rg="__reactHandles$"+an;function Tr(e){var t=e[Ft];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ht]||s[Ft]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Hc(e);e!==null;){if(s=e[Ft])return s;e=Hc(e)}return t}e=s,s=e.parentNode}return null}function ds(e){return e=e[Ft]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function di(e){return e[cs]||null}var fa=[],un=-1;function lr(e){return{current:e}}function Pe(e){0>un||(e.current=fa[un],fa[un]=null,un--)}function Ee(e,t){un++,fa[un]=e.current,e.current=t}var ur={},Ze=lr(ur),ut=lr(!1),Or=ur;function cn(e,t){var s=e.type.contextTypes;if(!s)return ur;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in s)h[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ct(e){return e=e.childContextTypes,e!=null}function hi(){Pe(ut),Pe(Ze)}function Kc(e,t,s){if(Ze.current!==ur)throw Error(n(168));Ee(Ze,t),Ee(ut,s)}function Gc(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var h in a)if(!(h in t))throw Error(n(108,ge(e)||"Unknown",h));return P({},s,a)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Or=Ze.current,Ee(Ze,e),Ee(ut,ut.current),!0}function Jc(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=Gc(e,t,Or),a.__reactInternalMemoizedMergedChildContext=e,Pe(ut),Pe(Ze),Ee(Ze,e)):Pe(ut),Ee(ut,s)}var Kt=null,pi=!1,pa=!1;function Qc(e){Kt===null?Kt=[e]:Kt.push(e)}function Ag(e){pi=!0,Qc(e)}function cr(){if(!pa&&Kt!==null){pa=!0;var e=0,t=Se;try{var s=Kt;for(Se=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Kt=null,pi=!1}catch(h){throw Kt!==null&&(Kt=Kt.slice(e+1)),Xu($o,cr),h}finally{Se=t,pa=!1}}return null}var dn=[],hn=0,mi=null,gi=0,bt=[],_t=0,Rr=null,Gt=1,Jt="";function Ar(e,t){dn[hn++]=gi,dn[hn++]=mi,mi=e,gi=t}function Yc(e,t,s){bt[_t++]=Gt,bt[_t++]=Jt,bt[_t++]=Rr,Rr=e;var a=Gt;e=Jt;var h=32-Pt(a)-1;a&=~(1<<h),s+=1;var f=32-Pt(t)+h;if(30<f){var y=h-h%5;f=(a&(1<<y)-1).toString(32),a>>=y,h-=y,Gt=1<<32-Pt(t)+h|s<<h|a,Jt=f+e}else Gt=1<<f|s<<h|a,Jt=e}function ma(e){e.return!==null&&(Ar(e,1),Yc(e,1,0))}function ga(e){for(;e===mi;)mi=dn[--hn],dn[hn]=null,gi=dn[--hn],dn[hn]=null;for(;e===Rr;)Rr=bt[--_t],bt[_t]=null,Jt=bt[--_t],bt[_t]=null,Gt=bt[--_t],bt[_t]=null}var gt=null,yt=null,Te=!1,Ot=null;function Xc(e,t){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Zc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,yt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Rr!==null?{id:Gt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,gt=e,yt=null,!0):!1;default:return!1}}function ya(e){return(e.mode&1)!==0&&(e.flags&128)===0}function va(e){if(Te){var t=yt;if(t){var s=t;if(!Zc(e,t)){if(ya(e))throw Error(n(418));t=ar(s.nextSibling);var a=gt;t&&Zc(e,t)?Xc(a,s):(e.flags=e.flags&-4097|2,Te=!1,gt=e)}}else{if(ya(e))throw Error(n(418));e.flags=e.flags&-4097|2,Te=!1,gt=e}}}function ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function yi(e){if(e!==gt)return!1;if(!Te)return ed(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=yt)){if(ya(e))throw td(),Error(n(418));for(;t;)Xc(e,t),t=ar(t.nextSibling)}if(ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){yt=ar(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=gt?ar(e.stateNode.nextSibling):null;return!0}function td(){for(var e=yt;e;)e=ar(e.nextSibling)}function fn(){yt=gt=null,Te=!1}function wa(e){Ot===null?Ot=[e]:Ot.push(e)}var Ig=H.ReactCurrentBatchConfig;function hs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var h=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var _=h.refs;y===null?delete _[f]:_[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rd(e){var t=e._init;return t(e._payload)}function nd(e){function t(T,E){if(e){var R=T.deletions;R===null?(T.deletions=[E],T.flags|=16):R.push(E)}}function s(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function a(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function h(T,E){return T=vr(T,E),T.index=0,T.sibling=null,T}function f(T,E,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<E?(T.flags|=2,E):R):(T.flags|=2,E)):(T.flags|=1048576,E)}function y(T){return e&&T.alternate===null&&(T.flags|=2),T}function _(T,E,R,G){return E===null||E.tag!==6?(E=cl(R,T.mode,G),E.return=T,E):(E=h(E,R),E.return=T,E)}function k(T,E,R,G){var se=R.type;return se===ne?q(T,E,R.props.children,G,R.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===pe&&rd(se)===E.type)?(G=h(E,R.props),G.ref=hs(T,E,R),G.return=T,G):(G=Fi(R.type,R.key,R.props,null,T.mode,G),G.ref=hs(T,E,R),G.return=T,G)}function $(T,E,R,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=dl(R,T.mode,G),E.return=T,E):(E=h(E,R.children||[]),E.return=T,E)}function q(T,E,R,G,se){return E===null||E.tag!==7?(E=Br(R,T.mode,G,se),E.return=T,E):(E=h(E,R),E.return=T,E)}function V(T,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return E=cl(""+E,T.mode,R),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ee:return R=Fi(E.type,E.key,E.props,null,T.mode,R),R.ref=hs(T,null,E),R.return=T,R;case X:return E=dl(E,T.mode,R),E.return=T,E;case pe:var G=E._init;return V(T,G(E._payload),R)}if(Bn(E)||D(E))return E=Br(E,T.mode,R,null),E.return=T,E;vi(T,E)}return null}function F(T,E,R,G){var se=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return se!==null?null:_(T,E,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ee:return R.key===se?k(T,E,R,G):null;case X:return R.key===se?$(T,E,R,G):null;case pe:return se=R._init,F(T,E,se(R._payload),G)}if(Bn(R)||D(R))return se!==null?null:q(T,E,R,G,null);vi(T,R)}return null}function Q(T,E,R,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return T=T.get(R)||null,_(E,T,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ee:return T=T.get(G.key===null?R:G.key)||null,k(E,T,G,se);case X:return T=T.get(G.key===null?R:G.key)||null,$(E,T,G,se);case pe:var ae=G._init;return Q(T,E,R,ae(G._payload),se)}if(Bn(G)||D(G))return T=T.get(R)||null,q(E,T,G,se,null);vi(E,G)}return null}function Z(T,E,R,G){for(var se=null,ae=null,le=E,fe=E=0,Je=null;le!==null&&fe<R.length;fe++){le.index>fe?(Je=le,le=null):Je=le.sibling;var _e=F(T,le,R[fe],G);if(_e===null){le===null&&(le=Je);break}e&&le&&_e.alternate===null&&t(T,le),E=f(_e,E,fe),ae===null?se=_e:ae.sibling=_e,ae=_e,le=Je}if(fe===R.length)return s(T,le),Te&&Ar(T,fe),se;if(le===null){for(;fe<R.length;fe++)le=V(T,R[fe],G),le!==null&&(E=f(le,E,fe),ae===null?se=le:ae.sibling=le,ae=le);return Te&&Ar(T,fe),se}for(le=a(T,le);fe<R.length;fe++)Je=Q(le,T,fe,R[fe],G),Je!==null&&(e&&Je.alternate!==null&&le.delete(Je.key===null?fe:Je.key),E=f(Je,E,fe),ae===null?se=Je:ae.sibling=Je,ae=Je);return e&&le.forEach(function(wr){return t(T,wr)}),Te&&Ar(T,fe),se}function te(T,E,R,G){var se=D(R);if(typeof se!="function")throw Error(n(150));if(R=se.call(R),R==null)throw Error(n(151));for(var ae=se=null,le=E,fe=E=0,Je=null,_e=R.next();le!==null&&!_e.done;fe++,_e=R.next()){le.index>fe?(Je=le,le=null):Je=le.sibling;var wr=F(T,le,_e.value,G);if(wr===null){le===null&&(le=Je);break}e&&le&&wr.alternate===null&&t(T,le),E=f(wr,E,fe),ae===null?se=wr:ae.sibling=wr,ae=wr,le=Je}if(_e.done)return s(T,le),Te&&Ar(T,fe),se;if(le===null){for(;!_e.done;fe++,_e=R.next())_e=V(T,_e.value,G),_e!==null&&(E=f(_e,E,fe),ae===null?se=_e:ae.sibling=_e,ae=_e);return Te&&Ar(T,fe),se}for(le=a(T,le);!_e.done;fe++,_e=R.next())_e=Q(le,T,fe,_e.value,G),_e!==null&&(e&&_e.alternate!==null&&le.delete(_e.key===null?fe:_e.key),E=f(_e,E,fe),ae===null?se=_e:ae.sibling=_e,ae=_e);return e&&le.forEach(function(fy){return t(T,fy)}),Te&&Ar(T,fe),se}function ze(T,E,R,G){if(typeof R=="object"&&R!==null&&R.type===ne&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ee:e:{for(var se=R.key,ae=E;ae!==null;){if(ae.key===se){if(se=R.type,se===ne){if(ae.tag===7){s(T,ae.sibling),E=h(ae,R.props.children),E.return=T,T=E;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===pe&&rd(se)===ae.type){s(T,ae.sibling),E=h(ae,R.props),E.ref=hs(T,ae,R),E.return=T,T=E;break e}s(T,ae);break}else t(T,ae);ae=ae.sibling}R.type===ne?(E=Br(R.props.children,T.mode,G,R.key),E.return=T,T=E):(G=Fi(R.type,R.key,R.props,null,T.mode,G),G.ref=hs(T,E,R),G.return=T,T=G)}return y(T);case X:e:{for(ae=R.key;E!==null;){if(E.key===ae)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){s(T,E.sibling),E=h(E,R.children||[]),E.return=T,T=E;break e}else{s(T,E);break}else t(T,E);E=E.sibling}E=dl(R,T.mode,G),E.return=T,T=E}return y(T);case pe:return ae=R._init,ze(T,E,ae(R._payload),G)}if(Bn(R))return Z(T,E,R,G);if(D(R))return te(T,E,R,G);vi(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,E!==null&&E.tag===6?(s(T,E.sibling),E=h(E,R),E.return=T,T=E):(s(T,E),E=cl(R,T.mode,G),E.return=T,T=E),y(T)):s(T,E)}return ze}var pn=nd(!0),sd=nd(!1),wi=lr(null),xi=null,mn=null,xa=null;function ba(){xa=mn=xi=null}function _a(e){var t=wi.current;Pe(wi),e._currentValue=t}function ja(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function gn(e,t){xi=e,xa=mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},mn===null){if(xi===null)throw Error(n(308));mn=e,xi.dependencies={lanes:0,firstContext:e}}else mn=mn.next=e;return t}var Ir=null;function Sa(e){Ir===null?Ir=[e]:Ir.push(e)}function id(e,t,s,a){var h=t.interleaved;return h===null?(s.next=s,Sa(t)):(s.next=h.next,h.next=s),t.interleaved=s,Qt(e,a)}function Qt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var dr=!1;function ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xe&2)!==0){var h=a.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),a.pending=t,Qt(e,s)}return h=a.interleaved,h===null?(t.next=t,Sa(a)):(t.next=h.next,h.next=t),a.interleaved=t,Qt(e,s)}function bi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Mo(e,s)}}function ad(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=t:f=f.next=t}else h=f=t;s={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function _i(e,t,s,a){var h=e.updateQueue;dr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var k=_,$=k.next;k.next=null,y===null?f=$:y.next=$,y=k;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==y&&(_===null?q.firstBaseUpdate=$:_.next=$,q.lastBaseUpdate=k))}if(f!==null){var V=h.baseState;y=0,q=$=k=null,_=f;do{var F=_.lane,Q=_.eventTime;if((a&F)===F){q!==null&&(q=q.next={eventTime:Q,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Z=e,te=_;switch(F=t,Q=s,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){V=Z.call(Q,V,F);break e}V=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,F=typeof Z=="function"?Z.call(Q,V,F):Z,F==null)break e;V=P({},V,F);break e;case 2:dr=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,F=h.effects,F===null?h.effects=[_]:F.push(_))}else Q={eventTime:Q,lane:F,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?($=q=Q,k=V):q=q.next=Q,y|=F;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;F=_,_=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);if(q===null&&(k=V),h.baseState=k,h.firstBaseUpdate=$,h.lastBaseUpdate=q,t=h.shared.interleaved,t!==null){h=t;do y|=h.lane,h=h.next;while(h!==t)}else f===null&&(h.shared.lanes=0);Dr|=y,e.lanes=y,e.memoizedState=V}}function ld(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],h=a.callback;if(h!==null){if(a.callback=null,a=s,typeof h!="function")throw Error(n(191,h));h.call(a)}}}var fs={},qt=lr(fs),ps=lr(fs),ms=lr(fs);function Lr(e){if(e===fs)throw Error(n(174));return e}function Ea(e,t){switch(Ee(ms,t),Ee(ps,e),Ee(qt,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}Pe(qt),Ee(qt,t)}function yn(){Pe(qt),Pe(ps),Pe(ms)}function ud(e){Lr(ms.current);var t=Lr(qt.current),s=No(t,e.type);t!==s&&(Ee(ps,e),Ee(qt,s))}function Na(e){ps.current===e&&(Pe(qt),Pe(ps))}var Ie=lr(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=[];function Pa(){for(var e=0;e<Ca.length;e++)Ca[e]._workInProgressVersionPrimary=null;Ca.length=0}var Si=H.ReactCurrentDispatcher,Ta=H.ReactCurrentBatchConfig,$r=0,Le=null,We=null,Ke=null,ki=!1,gs=!1,ys=0,Lg=0;function et(){throw Error(n(321))}function Oa(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Tt(e[s],t[s]))return!1;return!0}function Ra(e,t,s,a,h,f){if($r=f,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?Mg:zg,e=s(a,h),gs){f=0;do{if(gs=!1,ys=0,25<=f)throw Error(n(301));f+=1,Ke=We=null,t.updateQueue=null,Si.current=Bg,e=s(a,h)}while(gs)}if(Si.current=Ci,t=We!==null&&We.next!==null,$r=0,Ke=We=Le=null,ki=!1,t)throw Error(n(300));return e}function Aa(){var e=ys!==0;return ys=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Le.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function St(){if(We===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Le.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(n(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Le.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function vs(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=St(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=We,h=a.baseQueue,f=s.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}a.baseQueue=h=f,s.pending=null}if(h!==null){f=h.next,a=a.baseState;var _=y=null,k=null,$=f;do{var q=$.lane;if(($r&q)===q)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),a=$.hasEagerState?$.eagerState:e(a,$.action);else{var V={lane:q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(_=k=V,y=a):k=k.next=V,Le.lanes|=q,Dr|=q}$=$.next}while($!==null&&$!==f);k===null?y=a:k.next=_,Tt(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseState=y,t.baseQueue=k,s.lastRenderedState=a}if(e=s.interleaved,e!==null){h=e;do f=h.lane,Le.lanes|=f,Dr|=f,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function La(e){var t=St(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,h=s.pending,f=t.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Tt(f,t.memoizedState)||(dt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,a]}function cd(){}function dd(e,t){var s=Le,a=St(),h=t(),f=!Tt(a.memoizedState,h);if(f&&(a.memoizedState=h,dt=!0),a=a.queue,$a(pd.bind(null,s,a,e),[e]),a.getSnapshot!==t||f||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,ws(9,fd.bind(null,s,a,h,t),void 0,null),Ge===null)throw Error(n(349));($r&30)!==0||hd(s,t,h)}return h}function hd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function fd(e,t,s,a){t.value=s,t.getSnapshot=a,md(t)&&gd(e)}function pd(e,t,s){return s(function(){md(t)&&gd(e)})}function md(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Tt(e,s)}catch{return!0}}function gd(e){var t=Qt(e,1);t!==null&&Lt(t,e,1,-1)}function yd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,Le,e),[t.memoizedState,e]}function ws(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function vd(){return St().memoizedState}function Ei(e,t,s,a){var h=Wt();Le.flags|=e,h.memoizedState=ws(1|t,s,void 0,a===void 0?null:a)}function Ni(e,t,s,a){var h=St();a=a===void 0?null:a;var f=void 0;if(We!==null){var y=We.memoizedState;if(f=y.destroy,a!==null&&Oa(a,y.deps)){h.memoizedState=ws(t,s,f,a);return}}Le.flags|=e,h.memoizedState=ws(1|t,s,f,a)}function wd(e,t){return Ei(8390656,8,e,t)}function $a(e,t){return Ni(2048,8,e,t)}function xd(e,t){return Ni(4,2,e,t)}function bd(e,t){return Ni(4,4,e,t)}function _d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,s){return s=s!=null?s.concat([e]):null,Ni(4,4,_d.bind(null,t,e),s)}function Da(){}function Sd(e,t){var s=St();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Oa(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function kd(e,t){var s=St();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Oa(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Ed(e,t,s){return($r&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=s):(Tt(s,t)||(s=rc(),Le.lanes|=s,Dr|=s,e.baseState=!0),t)}function $g(e,t){var s=Se;Se=s!==0&&4>s?s:4,e(!0);var a=Ta.transition;Ta.transition={};try{e(!1),t()}finally{Se=s,Ta.transition=a}}function Nd(){return St().memoizedState}function Dg(e,t,s){var a=gr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Cd(e))Pd(t,s);else if(s=id(e,t,s,a),s!==null){var h=ot();Lt(s,e,a,h),Td(s,t,a)}}function Ug(e,t,s){var a=gr(e),h={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cd(e))Pd(t,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,_=f(y,s);if(h.hasEagerState=!0,h.eagerState=_,Tt(_,y)){var k=t.interleaved;k===null?(h.next=h,Sa(t)):(h.next=k.next,k.next=h),t.interleaved=h;return}}catch{}finally{}s=id(e,t,h,a),s!==null&&(h=ot(),Lt(s,e,a,h),Td(s,t,a))}}function Cd(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Pd(e,t){gs=ki=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Td(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Mo(e,s)}}var Ci={readContext:jt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Mg={readContext:jt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:wd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ei(4194308,4,_d.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var s=Wt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Wt();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Dg.bind(null,Le,e),[a.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:yd,useDebugValue:Da,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=yd(!1),t=e[0];return e=$g.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Le,h=Wt();if(Te){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),Ge===null)throw Error(n(349));($r&30)!==0||hd(a,t,s)}h.memoizedState=s;var f={value:s,getSnapshot:t};return h.queue=f,wd(pd.bind(null,a,f,e),[e]),a.flags|=2048,ws(9,fd.bind(null,a,f,s,t),void 0,null),s},useId:function(){var e=Wt(),t=Ge.identifierPrefix;if(Te){var s=Jt,a=Gt;s=(a&~(1<<32-Pt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=ys++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Lg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zg={readContext:jt,useCallback:Sd,useContext:jt,useEffect:$a,useImperativeHandle:jd,useInsertionEffect:xd,useLayoutEffect:bd,useMemo:kd,useReducer:Ia,useRef:vd,useState:function(){return Ia(vs)},useDebugValue:Da,useDeferredValue:function(e){var t=St();return Ed(t,We.memoizedState,e)},useTransition:function(){var e=Ia(vs)[0],t=St().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:dd,useId:Nd,unstable_isNewReconciler:!1},Bg={readContext:jt,useCallback:Sd,useContext:jt,useEffect:$a,useImperativeHandle:jd,useInsertionEffect:xd,useLayoutEffect:bd,useMemo:kd,useReducer:La,useRef:vd,useState:function(){return La(vs)},useDebugValue:Da,useDeferredValue:function(e){var t=St();return We===null?t.memoizedState=e:Ed(t,We.memoizedState,e)},useTransition:function(){var e=La(vs)[0],t=St().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:dd,useId:Nd,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=P({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Ua(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:P({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pi={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ot(),h=gr(e),f=Yt(a,h);f.payload=t,s!=null&&(f.callback=s),t=hr(e,f,h),t!==null&&(Lt(t,e,h,a),bi(t,e,h))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ot(),h=gr(e),f=Yt(a,h);f.tag=1,f.payload=t,s!=null&&(f.callback=s),t=hr(e,f,h),t!==null&&(Lt(t,e,h,a),bi(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ot(),a=gr(e),h=Yt(s,a);h.tag=2,t!=null&&(h.callback=t),t=hr(e,h,a),t!==null&&(Lt(t,e,a,s),bi(t,e,a))}};function Od(e,t,s,a,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,y):t.prototype&&t.prototype.isPureReactComponent?!is(s,a)||!is(h,f):!0}function Rd(e,t,s){var a=!1,h=ur,f=t.contextType;return typeof f=="object"&&f!==null?f=jt(f):(h=ct(t)?Or:Ze.current,a=t.contextTypes,f=(a=a!=null)?cn(e,h):ur),t=new t(s,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=f),t}function Ad(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Ma(e,t,s,a){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},ka(e);var f=t.contextType;typeof f=="object"&&f!==null?h.context=jt(f):(f=ct(t)?Or:Ze.current,h.context=cn(e,f)),h.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Ua(e,t,f,s),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Pi.enqueueReplaceState(h,h.state,null),_i(e,s,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var s="",a=t;do s+=ue(a),a=a.return;while(a);var h=s}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:h,digest:null}}function za(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ba(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Fg=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,s){s=Yt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){$i||($i=!0,rl=a),Ba(e,t)},s}function Ld(e,t,s){s=Yt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=t.value;s.payload=function(){return a(h)},s.callback=function(){Ba(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Ba(e,t),typeof a!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),s}function $d(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Fg;var h=new Set;a.set(t,h)}else h=a.get(t),h===void 0&&(h=new Set,a.set(t,h));h.has(s)||(h.add(s),e=ry.bind(null,e,t,s),t.then(e,e))}function Dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ud(e,t,s,a,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Yt(-1,1),t.tag=2,hr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var qg=H.ReactCurrentOwner,dt=!1;function it(e,t,s,a){t.child=e===null?sd(t,null,s,a):pn(t,e.child,s,a)}function Md(e,t,s,a,h){s=s.render;var f=t.ref;return gn(t,h),a=Ra(e,t,s,a,f,h),s=Aa(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Xt(e,t,h)):(Te&&s&&ma(t),t.flags|=1,it(e,t,a,h),t.child)}function zd(e,t,s,a,h){if(e===null){var f=s.type;return typeof f=="function"&&!ul(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=f,Bd(e,t,f,a,h)):(e=Fi(s.type,null,a,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&h)===0){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:is,s(y,a)&&e.ref===t.ref)return Xt(e,t,h)}return t.flags|=1,e=vr(f,a),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,s,a,h){if(e!==null){var f=e.memoizedProps;if(is(f,a)&&e.ref===t.ref)if(dt=!1,t.pendingProps=a=f,(e.lanes&h)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,Xt(e,t,h)}return Fa(e,t,s,a,h)}function Fd(e,t,s){var a=t.pendingProps,h=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(xn,vt),vt|=s;else{if((s&1073741824)===0)return e=f!==null?f.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(xn,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,Ee(xn,vt),vt|=a}else f!==null?(a=f.baseLanes|s,t.memoizedState=null):a=s,Ee(xn,vt),vt|=a;return it(e,t,h,s),t.child}function qd(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,s,a,h){var f=ct(s)?Or:Ze.current;return f=cn(t,f),gn(t,h),s=Ra(e,t,s,a,f,h),a=Aa(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Xt(e,t,h)):(Te&&a&&ma(t),t.flags|=1,it(e,t,s,h),t.child)}function Wd(e,t,s,a,h){if(ct(s)){var f=!0;fi(t)}else f=!1;if(gn(t,h),t.stateNode===null)Oi(e,t),Rd(t,s,a),Ma(t,s,a,h),a=!0;else if(e===null){var y=t.stateNode,_=t.memoizedProps;y.props=_;var k=y.context,$=s.contextType;typeof $=="object"&&$!==null?$=jt($):($=ct(s)?Or:Ze.current,$=cn(t,$));var q=s.getDerivedStateFromProps,V=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==a||k!==$)&&Ad(t,y,a,$),dr=!1;var F=t.memoizedState;y.state=F,_i(t,a,y,h),k=t.memoizedState,_!==a||F!==k||ut.current||dr?(typeof q=="function"&&(Ua(t,s,q,a),k=t.memoizedState),(_=dr||Od(t,s,_,a,F,k,$))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),y.props=a,y.state=k,y.context=$,a=_):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,od(e,t),_=t.memoizedProps,$=t.type===t.elementType?_:Rt(t.type,_),y.props=$,V=t.pendingProps,F=y.context,k=s.contextType,typeof k=="object"&&k!==null?k=jt(k):(k=ct(s)?Or:Ze.current,k=cn(t,k));var Q=s.getDerivedStateFromProps;(q=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==V||F!==k)&&Ad(t,y,a,k),dr=!1,F=t.memoizedState,y.state=F,_i(t,a,y,h);var Z=t.memoizedState;_!==V||F!==Z||ut.current||dr?(typeof Q=="function"&&(Ua(t,s,Q,a),Z=t.memoizedState),($=dr||Od(t,s,$,a,F,Z,k)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,Z,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,Z,k)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),y.props=a,y.state=Z,y.context=k,a=$):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return qa(e,t,s,a,f,h)}function qa(e,t,s,a,h,f){qd(e,t);var y=(t.flags&128)!==0;if(!a&&!y)return h&&Jc(t,s,!1),Xt(e,t,f);a=t.stateNode,qg.current=t;var _=y&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&y?(t.child=pn(t,e.child,null,f),t.child=pn(t,null,_,f)):it(e,t,_,f),t.memoizedState=a.state,h&&Jc(t,s,!0),t.child}function Vd(e){var t=e.stateNode;t.pendingContext?Kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kc(e,t.context,!1),Ea(e,t.containerInfo)}function Hd(e,t,s,a,h){return fn(),wa(h),t.flags|=256,it(e,t,s,a),t.child}var Wa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kd(e,t,s){var a=t.pendingProps,h=Ie.current,f=!1,y=(t.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(h&2)!==0),_?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ee(Ie,h&1),e===null)return va(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=a.children,e=a.fallback,f?(a=t.mode,f=t.child,y={mode:"hidden",children:y},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=qi(y,a,0,null),e=Br(e,a,s,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Va(s),t.memoizedState=Wa,e):Ha(t,y));if(h=e.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Wg(e,t,y,a,_,h,s);if(f){f=a.fallback,y=t.mode,h=e.child,_=h.sibling;var k={mode:"hidden",children:a.children};return(y&1)===0&&t.child!==h?(a=t.child,a.childLanes=0,a.pendingProps=k,t.deletions=null):(a=vr(h,k),a.subtreeFlags=h.subtreeFlags&14680064),_!==null?f=vr(_,f):(f=Br(f,y,s,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,y=e.child.memoizedState,y=y===null?Va(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~s,t.memoizedState=Wa,a}return f=e.child,e=f.sibling,a=vr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Ha(e,t){return t=qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,s,a){return a!==null&&wa(a),pn(t,e.child,null,s),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,s,a,h,f,y){if(s)return t.flags&256?(t.flags&=-257,a=za(Error(n(422))),Ti(e,t,y,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,h=t.mode,a=qi({mode:"visible",children:a.children},h,0,null),f=Br(f,h,y,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&pn(t,e.child,null,y),t.child.memoizedState=Va(y),t.memoizedState=Wa,f);if((t.mode&1)===0)return Ti(e,t,y,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var _=a.dgst;return a=_,f=Error(n(419)),a=za(f,a,void 0),Ti(e,t,y,a)}if(_=(y&e.childLanes)!==0,dt||_){if(a=Ge,a!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(a.suspendedLanes|y))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,Qt(e,h),Lt(a,e,h,-1))}return ll(),a=za(Error(n(421))),Ti(e,t,y,a)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=ny.bind(null,e),h._reactRetry=t,null):(e=f.treeContext,yt=ar(h.nextSibling),gt=t,Te=!0,Ot=null,e!==null&&(bt[_t++]=Gt,bt[_t++]=Jt,bt[_t++]=Rr,Gt=e.id,Jt=e.overflow,Rr=t),t=Ha(t,a.children),t.flags|=4096,t)}function Gd(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ja(e.return,t,s)}function Ka(e,t,s,a,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:h}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=h)}function Jd(e,t,s){var a=t.pendingProps,h=a.revealOrder,f=a.tail;if(it(e,t,a.children,s),a=Ie.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,s,t);else if(e.tag===19)Gd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ee(Ie,a),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&ji(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),Ka(t,!1,h,s,f);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&ji(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Ka(t,!0,s,null,f);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=vr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=vr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Vg(e,t,s){switch(t.tag){case 3:Vd(t),fn();break;case 5:ud(t);break;case 1:ct(t.type)&&fi(t);break;case 4:Ea(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,h=t.memoizedProps.value;Ee(wi,a._currentValue),a._currentValue=h;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ee(Ie,Ie.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Kd(e,t,s):(Ee(Ie,Ie.current&1),e=Xt(e,t,s),e!==null?e.sibling:null);Ee(Ie,Ie.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Jd(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ee(Ie,Ie.current),a)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,s)}return Xt(e,t,s)}var Qd,Ga,Yd,Xd;Qd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ga=function(){},Yd=function(e,t,s,a){var h=e.memoizedProps;if(h!==a){e=t.stateNode,Lr(qt.current);var f=null;switch(s){case"input":h=lt(e,h),a=lt(e,a),f=[];break;case"select":h=P({},h,{value:void 0}),a=P({},a,{value:void 0}),f=[];break;case"textarea":h=Eo(e,h),a=Eo(e,a),f=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ci)}Co(s,a);var y;s=null;for($ in h)if(!a.hasOwnProperty($)&&h.hasOwnProperty($)&&h[$]!=null)if($==="style"){var _=h[$];for(y in _)_.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(l.hasOwnProperty($)?f||(f=[]):(f=f||[]).push($,null));for($ in a){var k=a[$];if(_=h!=null?h[$]:void 0,a.hasOwnProperty($)&&k!==_&&(k!=null||_!=null))if($==="style")if(_){for(y in _)!_.hasOwnProperty(y)||k&&k.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in k)k.hasOwnProperty(y)&&_[y]!==k[y]&&(s||(s={}),s[y]=k[y])}else s||(f||(f=[]),f.push($,s)),s=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(f=f||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(l.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ce("scroll",e),f||_===k||(f=[])):(f=f||[]).push($,k))}s&&(f=f||[]).push("style",s);var $=f;(t.updateQueue=$)&&(t.flags|=4)}},Xd=function(e,t,s,a){s!==a&&(t.flags|=4)};function xs(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Hg(e,t,s){var a=t.pendingProps;switch(ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return ct(t.type)&&hi(),tt(t),null;case 3:return a=t.stateNode,yn(),Pe(ut),Pe(Ze),Pa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ot!==null&&(il(Ot),Ot=null))),Ga(e,t),tt(t),null;case 5:Na(t);var h=Lr(ms.current);if(s=t.type,e!==null&&t.stateNode!=null)Yd(e,t,s,a,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return tt(t),null}if(e=Lr(qt.current),yi(t)){a=t.stateNode,s=t.type;var f=t.memoizedProps;switch(a[Ft]=t,a[cs]=f,e=(t.mode&1)!==0,s){case"dialog":Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":case"embed":Ce("load",a);break;case"video":case"audio":for(h=0;h<as.length;h++)Ce(as[h],a);break;case"source":Ce("error",a);break;case"img":case"image":case"link":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"input":So(a,f),Ce("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ce("invalid",a);break;case"textarea":Lu(a,f),Ce("invalid",a)}Co(s,f),h=null;for(var y in f)if(f.hasOwnProperty(y)){var _=f[y];y==="children"?typeof _=="string"?a.textContent!==_&&(f.suppressHydrationWarning!==!0&&ui(a.textContent,_,e),h=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&ui(a.textContent,_,e),h=["children",""+_]):l.hasOwnProperty(y)&&_!=null&&y==="onScroll"&&Ce("scroll",a)}switch(s){case"input":ke(a),Iu(a,f,!0);break;case"textarea":ke(a),Du(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ci)}a=h,t.updateQueue=a,a!==null&&(t.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(s,{is:a.is}):(e=y.createElement(s),s==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,s),e[Ft]=t,e[cs]=a,Qd(e,t,!1,!1),t.stateNode=e;e:{switch(y=Po(s,a),s){case"dialog":Ce("cancel",e),Ce("close",e),h=a;break;case"iframe":case"object":case"embed":Ce("load",e),h=a;break;case"video":case"audio":for(h=0;h<as.length;h++)Ce(as[h],e);h=a;break;case"source":Ce("error",e),h=a;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),h=a;break;case"details":Ce("toggle",e),h=a;break;case"input":So(e,a),h=lt(e,a),Ce("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=P({},a,{value:void 0}),Ce("invalid",e);break;case"textarea":Lu(e,a),h=Eo(e,a),Ce("invalid",e);break;default:h=a}Co(s,h),_=h;for(f in _)if(_.hasOwnProperty(f)){var k=_[f];f==="style"?Bu(e,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Mu(e,k)):f==="children"?typeof k=="string"?(s!=="textarea"||k!=="")&&Fn(e,k):typeof k=="number"&&Fn(e,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?k!=null&&f==="onScroll"&&Ce("scroll",e):k!=null&&I(e,f,k,y))}switch(s){case"input":ke(e),Iu(e,a,!1);break;case"textarea":ke(e),Du(e);break;case"option":a.value!=null&&e.setAttribute("value",""+O(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Yr(e,!!a.multiple,f,!1):a.defaultValue!=null&&Yr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=ci)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=Lr(ms.current),Lr(qt.current),yi(t)){if(a=t.stateNode,s=t.memoizedProps,a[Ft]=t,(f=a.nodeValue!==s)&&(e=gt,e!==null))switch(e.tag){case 3:ui(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ui(a.nodeValue,s,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Ft]=t,t.stateNode=a}return tt(t),null;case 13:if(Pe(Ie),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&yt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)td(),fn(),t.flags|=98560,f=!1;else if(f=yi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Ft]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),f=!1}else Ot!==null&&(il(Ot),Ot=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Ve===0&&(Ve=3):ll())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return yn(),Ga(e,t),e===null&&ls(t.stateNode.containerInfo),tt(t),null;case 10:return _a(t.type._context),tt(t),null;case 17:return ct(t.type)&&hi(),tt(t),null;case 19:if(Pe(Ie),f=t.memoizedState,f===null)return tt(t),null;if(a=(t.flags&128)!==0,y=f.rendering,y===null)if(a)xs(f,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=ji(e),y!==null){for(t.flags|=128,xs(f,!1),a=y.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)f=s,e=a,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ee(Ie,Ie.current&1|2),t.child}e=e.sibling}f.tail!==null&&Me()>bn&&(t.flags|=128,a=!0,xs(f,!1),t.lanes=4194304)}else{if(!a)if(e=ji(y),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),xs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Te)return tt(t),null}else 2*Me()-f.renderingStartTime>bn&&s!==1073741824&&(t.flags|=128,a=!0,xs(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(s=f.last,s!==null?s.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Me(),t.sibling=null,s=Ie.current,Ee(Ie,a?s&1|2:s&1),t):(tt(t),null);case 22:case 23:return al(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(vt&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Kg(e,t){switch(ga(t),t.tag){case 1:return ct(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),Pe(ut),Pe(Ze),Pa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Na(t),null;case 13:if(Pe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ie),null;case 4:return yn(),null;case 10:return _a(t.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var Ri=!1,rt=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Y=null;function wn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){De(e,t,a)}else s.current=null}function Ja(e,t,s){try{s()}catch(a){De(e,t,a)}}var Zd=!1;function Jg(e,t){if(aa=Xs,e=Oc(),Zo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var h=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,_=-1,k=-1,$=0,q=0,V=e,F=null;t:for(;;){for(var Q;V!==s||h!==0&&V.nodeType!==3||(_=y+h),V!==f||a!==0&&V.nodeType!==3||(k=y+a),V.nodeType===3&&(y+=V.nodeValue.length),(Q=V.firstChild)!==null;)F=V,V=Q;for(;;){if(V===e)break t;if(F===s&&++$===h&&(_=y),F===f&&++q===a&&(k=y),(Q=V.nextSibling)!==null)break;V=F,F=V.parentNode}V=Q}s=_===-1||k===-1?null:{start:_,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(la={focusedElem:e,selectionRange:s},Xs=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,ze=Z.memoizedState,T=t.stateNode,E=T.getSnapshotBeforeUpdate(t.elementType===t.type?te:Rt(t.type,te),ze);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){De(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return Z=Zd,Zd=!1,Z}function bs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var f=h.destroy;h.destroy=void 0,f!==void 0&&Ja(t,s,f)}h=h.next}while(h!==a)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Qa(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function eh(e){var t=e.alternate;t!==null&&(e.alternate=null,eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[cs],delete t[ha],delete t[Og],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function th(e){return e.tag===5||e.tag===3||e.tag===4}function rh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ci));else if(a!==4&&(e=e.child,e!==null))for(Ya(e,t,s),e=e.sibling;e!==null;)Ya(e,t,s),e=e.sibling}function Xa(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xa(e,t,s),e=e.sibling;e!==null;)Xa(e,t,s),e=e.sibling}var Ye=null,At=!1;function fr(e,t,s){for(s=s.child;s!==null;)nh(e,t,s),s=s.sibling}function nh(e,t,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hs,s)}catch{}switch(s.tag){case 5:rt||wn(s,t);case 6:var a=Ye,h=At;Ye=null,fr(e,t,s),Ye=a,At=h,Ye!==null&&(At?(e=Ye,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ye.removeChild(s.stateNode));break;case 18:Ye!==null&&(At?(e=Ye,s=s.stateNode,e.nodeType===8?da(e.parentNode,s):e.nodeType===1&&da(e,s),Zn(e)):da(Ye,s.stateNode));break;case 4:a=Ye,h=At,Ye=s.stateNode.containerInfo,At=!0,fr(e,t,s),Ye=a,At=h;break;case 0:case 11:case 14:case 15:if(!rt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var f=h,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Ja(s,t,y),h=h.next}while(h!==a)}fr(e,t,s);break;case 1:if(!rt&&(wn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){De(s,t,_)}fr(e,t,s);break;case 21:fr(e,t,s);break;case 22:s.mode&1?(rt=(a=rt)||s.memoizedState!==null,fr(e,t,s),rt=a):fr(e,t,s);break;default:fr(e,t,s)}}function sh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Gg),t.forEach(function(a){var h=sy.bind(null,e,a);s.has(a)||(s.add(a),a.then(h,h))})}}function It(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var h=s[a];try{var f=e,y=t,_=y;e:for(;_!==null;){switch(_.tag){case 5:Ye=_.stateNode,At=!1;break e;case 3:Ye=_.stateNode.containerInfo,At=!0;break e;case 4:Ye=_.stateNode.containerInfo,At=!0;break e}_=_.return}if(Ye===null)throw Error(n(160));nh(f,y,h),Ye=null,At=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch($){De(h,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ih(t,e),t=t.sibling}function ih(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Vt(e),a&4){try{bs(3,e,e.return),Ai(3,e)}catch(te){De(e,e.return,te)}try{bs(5,e,e.return)}catch(te){De(e,e.return,te)}}break;case 1:It(t,e),Vt(e),a&512&&s!==null&&wn(s,s.return);break;case 5:if(It(t,e),Vt(e),a&512&&s!==null&&wn(s,s.return),e.flags&32){var h=e.stateNode;try{Fn(h,"")}catch(te){De(e,e.return,te)}}if(a&4&&(h=e.stateNode,h!=null)){var f=e.memoizedProps,y=s!==null?s.memoizedProps:f,_=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&Qr(h,f),Po(_,y);var $=Po(_,f);for(y=0;y<k.length;y+=2){var q=k[y],V=k[y+1];q==="style"?Bu(h,V):q==="dangerouslySetInnerHTML"?Mu(h,V):q==="children"?Fn(h,V):I(h,q,V,$)}switch(_){case"input":zn(h,f);break;case"textarea":$u(h,f);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?Yr(h,!!f.multiple,Q,!1):F!==!!f.multiple&&(f.defaultValue!=null?Yr(h,!!f.multiple,f.defaultValue,!0):Yr(h,!!f.multiple,f.multiple?[]:"",!1))}h[cs]=f}catch(te){De(e,e.return,te)}}break;case 6:if(It(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,f=e.memoizedProps;try{h.nodeValue=f}catch(te){De(e,e.return,te)}}break;case 3:if(It(t,e),Vt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Zn(t.containerInfo)}catch(te){De(e,e.return,te)}break;case 4:It(t,e),Vt(e);break;case 13:It(t,e),Vt(e),h=e.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(tl=Me())),a&4&&sh(e);break;case 22:if(q=s!==null&&s.memoizedState!==null,e.mode&1?(rt=($=rt)||q,It(t,e),rt=$):It(t,e),Vt(e),a&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!q&&(e.mode&1)!==0)for(Y=e,q=e.child;q!==null;){for(V=Y=q;Y!==null;){switch(F=Y,Q=F.child,F.tag){case 0:case 11:case 14:case 15:bs(4,F,F.return);break;case 1:wn(F,F.return);var Z=F.stateNode;if(typeof Z.componentWillUnmount=="function"){a=F,s=F.return;try{t=a,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(te){De(a,s,te)}}break;case 5:wn(F,F.return);break;case 22:if(F.memoizedState!==null){lh(V);continue}}Q!==null?(Q.return=F,Y=Q):lh(V)}q=q.sibling}e:for(q=null,V=e;;){if(V.tag===5){if(q===null){q=V;try{h=V.stateNode,$?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=V.stateNode,k=V.memoizedProps.style,y=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=zu("display",y))}catch(te){De(e,e.return,te)}}}else if(V.tag===6){if(q===null)try{V.stateNode.nodeValue=$?"":V.memoizedProps}catch(te){De(e,e.return,te)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;q===V&&(q=null),V=V.return}q===V&&(q=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:It(t,e),Vt(e),a&4&&sh(e);break;case 21:break;default:It(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(th(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(Fn(h,""),a.flags&=-33);var f=rh(e);Xa(e,f,h);break;case 3:case 4:var y=a.stateNode.containerInfo,_=rh(e);Ya(e,_,y);break;default:throw Error(n(161))}}catch(k){De(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qg(e,t,s){Y=e,oh(e)}function oh(e,t,s){for(var a=(e.mode&1)!==0;Y!==null;){var h=Y,f=h.child;if(h.tag===22&&a){var y=h.memoizedState!==null||Ri;if(!y){var _=h.alternate,k=_!==null&&_.memoizedState!==null||rt;_=Ri;var $=rt;if(Ri=y,(rt=k)&&!$)for(Y=h;Y!==null;)y=Y,k=y.child,y.tag===22&&y.memoizedState!==null?uh(h):k!==null?(k.return=y,Y=k):uh(h);for(;f!==null;)Y=f,oh(f),f=f.sibling;Y=h,Ri=_,rt=$}ah(e)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,Y=f):ah(e)}}function ah(e){for(;Y!==null;){var t=Y;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||Ai(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!rt)if(s===null)a.componentDidMount();else{var h=t.elementType===t.type?s.memoizedProps:Rt(t.type,s.memoizedProps);a.componentDidUpdate(h,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ld(t,f,a);break;case 3:var y=t.updateQueue;if(y!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}ld(t,y,s)}break;case 5:var _=t.stateNode;if(s===null&&t.flags&4){s=_;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&s.focus();break;case"img":k.src&&(s.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var q=$.memoizedState;if(q!==null){var V=q.dehydrated;V!==null&&Zn(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rt||t.flags&512&&Qa(t)}catch(F){De(t,t.return,F)}}if(t===e){Y=null;break}if(s=t.sibling,s!==null){s.return=t.return,Y=s;break}Y=t.return}}function lh(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Y=s;break}Y=t.return}}function uh(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ai(4,t)}catch(k){De(t,s,k)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var h=t.return;try{a.componentDidMount()}catch(k){De(t,h,k)}}var f=t.return;try{Qa(t)}catch(k){De(t,f,k)}break;case 5:var y=t.return;try{Qa(t)}catch(k){De(t,y,k)}}}catch(k){De(t,t.return,k)}if(t===e){Y=null;break}var _=t.sibling;if(_!==null){_.return=t.return,Y=_;break}Y=t.return}}var Yg=Math.ceil,Ii=H.ReactCurrentDispatcher,Za=H.ReactCurrentOwner,kt=H.ReactCurrentBatchConfig,xe=0,Ge=null,Fe=null,Xe=0,vt=0,xn=lr(0),Ve=0,_s=null,Dr=0,Li=0,el=0,js=null,ht=null,tl=0,bn=1/0,Zt=null,$i=!1,rl=null,pr=null,Di=!1,mr=null,Ui=0,Ss=0,nl=null,Mi=-1,zi=0;function ot(){return(xe&6)!==0?Me():Mi!==-1?Mi:Mi=Me()}function gr(e){return(e.mode&1)===0?1:(xe&2)!==0&&Xe!==0?Xe&-Xe:Ig.transition!==null?(zi===0&&(zi=rc()),zi):(e=Se,e!==0||(e=window.event,e=e===void 0?16:dc(e.type)),e)}function Lt(e,t,s,a){if(50<Ss)throw Ss=0,nl=null,Error(n(185));Gn(e,s,a),((xe&2)===0||e!==Ge)&&(e===Ge&&((xe&2)===0&&(Li|=s),Ve===4&&yr(e,Xe)),ft(e,a),s===1&&xe===0&&(t.mode&1)===0&&(bn=Me()+500,pi&&cr()))}function ft(e,t){var s=e.callbackNode;Im(e,t);var a=Js(e,e===Ge?Xe:0);if(a===0)s!==null&&Zu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Zu(s),t===1)e.tag===0?Ag(dh.bind(null,e)):Qc(dh.bind(null,e)),Pg(function(){(xe&6)===0&&cr()}),s=null;else{switch(nc(a)){case 1:s=$o;break;case 4:s=ec;break;case 16:s=Vs;break;case 536870912:s=tc;break;default:s=Vs}s=wh(s,ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ch(e,t){if(Mi=-1,zi=0,(xe&6)!==0)throw Error(n(327));var s=e.callbackNode;if(_n()&&e.callbackNode!==s)return null;var a=Js(e,e===Ge?Xe:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Bi(e,a);else{t=a;var h=xe;xe|=2;var f=fh();(Ge!==e||Xe!==t)&&(Zt=null,bn=Me()+500,Mr(e,t));do try{ey();break}catch(_){hh(e,_)}while(!0);ba(),Ii.current=f,xe=h,Fe!==null?t=0:(Ge=null,Xe=0,t=Ve)}if(t!==0){if(t===2&&(h=Do(e),h!==0&&(a=h,t=sl(e,h))),t===1)throw s=_s,Mr(e,0),yr(e,a),ft(e,Me()),s;if(t===6)yr(e,a);else{if(h=e.current.alternate,(a&30)===0&&!Xg(h)&&(t=Bi(e,a),t===2&&(f=Do(e),f!==0&&(a=f,t=sl(e,f))),t===1))throw s=_s,Mr(e,0),yr(e,a),ft(e,Me()),s;switch(e.finishedWork=h,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:zr(e,ht,Zt);break;case 3:if(yr(e,a),(a&130023424)===a&&(t=tl+500-Me(),10<t)){if(Js(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){ot(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ca(zr.bind(null,e,ht,Zt),t);break}zr(e,ht,Zt);break;case 4:if(yr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,h=-1;0<a;){var y=31-Pt(a);f=1<<y,y=t[y],y>h&&(h=y),a&=~f}if(a=h,a=Me()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Yg(a/1960))-a,10<a){e.timeoutHandle=ca(zr.bind(null,e,ht,Zt),a);break}zr(e,ht,Zt);break;case 5:zr(e,ht,Zt);break;default:throw Error(n(329))}}}return ft(e,Me()),e.callbackNode===s?ch.bind(null,e):null}function sl(e,t){var s=js;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=ht,ht=s,t!==null&&il(t)),e}function il(e){ht===null?ht=e:ht.push.apply(ht,e)}function Xg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var h=s[a],f=h.getSnapshot;h=h.value;try{if(!Tt(f(),h))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~el,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Pt(t),a=1<<s;e[s]=-1,t&=~a}}function dh(e){if((xe&6)!==0)throw Error(n(327));_n();var t=Js(e,0);if((t&1)===0)return ft(e,Me()),null;var s=Bi(e,t);if(e.tag!==0&&s===2){var a=Do(e);a!==0&&(t=a,s=sl(e,a))}if(s===1)throw s=_s,Mr(e,0),yr(e,t),ft(e,Me()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,ht,Zt),ft(e,Me()),null}function ol(e,t){var s=xe;xe|=1;try{return e(t)}finally{xe=s,xe===0&&(bn=Me()+500,pi&&cr())}}function Ur(e){mr!==null&&mr.tag===0&&(xe&6)===0&&_n();var t=xe;xe|=1;var s=kt.transition,a=Se;try{if(kt.transition=null,Se=1,e)return e()}finally{Se=a,kt.transition=s,xe=t,(xe&6)===0&&cr()}}function al(){vt=xn.current,Pe(xn)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Cg(s)),Fe!==null)for(s=Fe.return;s!==null;){var a=s;switch(ga(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&hi();break;case 3:yn(),Pe(ut),Pe(Ze),Pa();break;case 5:Na(a);break;case 4:yn();break;case 13:Pe(Ie);break;case 19:Pe(Ie);break;case 10:_a(a.type._context);break;case 22:case 23:al()}s=s.return}if(Ge=e,Fe=e=vr(e.current,null),Xe=vt=t,Ve=0,_s=null,el=Li=Dr=0,ht=js=null,Ir!==null){for(t=0;t<Ir.length;t++)if(s=Ir[t],a=s.interleaved,a!==null){s.interleaved=null;var h=a.next,f=s.pending;if(f!==null){var y=f.next;f.next=h,a.next=y}s.pending=a}Ir=null}return e}function hh(e,t){do{var s=Fe;try{if(ba(),Si.current=Ci,ki){for(var a=Le.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}ki=!1}if($r=0,Ke=We=Le=null,gs=!1,ys=0,Za.current=null,s===null||s.return===null){Ve=1,_s=t,Fe=null;break}e:{var f=e,y=s.return,_=s,k=t;if(t=Xe,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,q=_,V=q.tag;if((q.mode&1)===0&&(V===0||V===11||V===15)){var F=q.alternate;F?(q.updateQueue=F.updateQueue,q.memoizedState=F.memoizedState,q.lanes=F.lanes):(q.updateQueue=null,q.memoizedState=null)}var Q=Dd(y);if(Q!==null){Q.flags&=-257,Ud(Q,y,_,f,t),Q.mode&1&&$d(f,$,t),t=Q,k=$;var Z=t.updateQueue;if(Z===null){var te=new Set;te.add(k),t.updateQueue=te}else Z.add(k);break e}else{if((t&1)===0){$d(f,$,t),ll();break e}k=Error(n(426))}}else if(Te&&_.mode&1){var ze=Dd(y);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),Ud(ze,y,_,f,t),wa(vn(k,_));break e}}f=k=vn(k,_),Ve!==4&&(Ve=2),js===null?js=[f]:js.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var T=Id(f,k,t);ad(f,T);break e;case 1:_=k;var E=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(pr===null||!pr.has(R)))){f.flags|=65536,t&=-t,f.lanes|=t;var G=Ld(f,_,t);ad(f,G);break e}}f=f.return}while(f!==null)}mh(s)}catch(se){t=se,Fe===s&&s!==null&&(Fe=s=s.return);continue}break}while(!0)}function fh(){var e=Ii.current;return Ii.current=Ci,e===null?Ci:e}function ll(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ge===null||(Dr&268435455)===0&&(Li&268435455)===0||yr(Ge,Xe)}function Bi(e,t){var s=xe;xe|=2;var a=fh();(Ge!==e||Xe!==t)&&(Zt=null,Mr(e,t));do try{Zg();break}catch(h){hh(e,h)}while(!0);if(ba(),xe=s,Ii.current=a,Fe!==null)throw Error(n(261));return Ge=null,Xe=0,Ve}function Zg(){for(;Fe!==null;)ph(Fe)}function ey(){for(;Fe!==null&&!km();)ph(Fe)}function ph(e){var t=vh(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?mh(e):Fe=t,Za.current=null}function mh(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Hg(s,t,vt),s!==null){Fe=s;return}}else{if(s=Kg(s,t),s!==null){s.flags&=32767,Fe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function zr(e,t,s){var a=Se,h=kt.transition;try{kt.transition=null,Se=1,ty(e,t,s,a)}finally{kt.transition=h,Se=a}return null}function ty(e,t,s,a){do _n();while(mr!==null);if((xe&6)!==0)throw Error(n(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(Lm(e,f),e===Ge&&(Fe=Ge=null,Xe=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Di||(Di=!0,wh(Vs,function(){return _n(),null})),f=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||f){f=kt.transition,kt.transition=null;var y=Se;Se=1;var _=xe;xe|=4,Za.current=null,Jg(e,s),ih(s,e),bg(la),Xs=!!aa,la=aa=null,e.current=s,Qg(s),Em(),xe=_,Se=y,kt.transition=f}else e.current=s;if(Di&&(Di=!1,mr=e,Ui=h),f=e.pendingLanes,f===0&&(pr=null),Pm(s.stateNode),ft(e,Me()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)h=t[s],a(h.value,{componentStack:h.stack,digest:h.digest});if($i)throw $i=!1,e=rl,rl=null,e;return(Ui&1)!==0&&e.tag!==0&&_n(),f=e.pendingLanes,(f&1)!==0?e===nl?Ss++:(Ss=0,nl=e):Ss=0,cr(),null}function _n(){if(mr!==null){var e=nc(Ui),t=kt.transition,s=Se;try{if(kt.transition=null,Se=16>e?16:e,mr===null)var a=!1;else{if(e=mr,mr=null,Ui=0,(xe&6)!==0)throw Error(n(331));var h=xe;for(xe|=4,Y=e.current;Y!==null;){var f=Y,y=f.child;if((Y.flags&16)!==0){var _=f.deletions;if(_!==null){for(var k=0;k<_.length;k++){var $=_[k];for(Y=$;Y!==null;){var q=Y;switch(q.tag){case 0:case 11:case 15:bs(8,q,f)}var V=q.child;if(V!==null)V.return=q,Y=V;else for(;Y!==null;){q=Y;var F=q.sibling,Q=q.return;if(eh(q),q===$){Y=null;break}if(F!==null){F.return=Q,Y=F;break}Y=Q}}}var Z=f.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var ze=te.sibling;te.sibling=null,te=ze}while(te!==null)}}Y=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Y=y;else e:for(;Y!==null;){if(f=Y,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:bs(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,Y=T;break e}Y=f.return}}var E=e.current;for(Y=E;Y!==null;){y=Y;var R=y.child;if((y.subtreeFlags&2064)!==0&&R!==null)R.return=y,Y=R;else e:for(y=E;Y!==null;){if(_=Y,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Ai(9,_)}}catch(se){De(_,_.return,se)}if(_===y){Y=null;break e}var G=_.sibling;if(G!==null){G.return=_.return,Y=G;break e}Y=_.return}}if(xe=h,cr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hs,e)}catch{}a=!0}return a}finally{Se=s,kt.transition=t}}return!1}function gh(e,t,s){t=vn(s,t),t=Id(e,t,1),e=hr(e,t,1),t=ot(),e!==null&&(Gn(e,1,t),ft(e,t))}function De(e,t,s){if(e.tag===3)gh(e,e,s);else for(;t!==null;){if(t.tag===3){gh(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pr===null||!pr.has(a))){e=vn(s,e),e=Ld(t,e,1),t=hr(t,e,1),e=ot(),t!==null&&(Gn(t,1,e),ft(t,e));break}}t=t.return}}function ry(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&s,Ge===e&&(Xe&s)===s&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>Me()-tl?Mr(e,0):el|=s),ft(e,t)}function yh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Gs,Gs<<=1,(Gs&130023424)===0&&(Gs=4194304)));var s=ot();e=Qt(e,t),e!==null&&(Gn(e,t,s),ft(e,s))}function ny(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),yh(e,s)}function sy(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),yh(e,s)}var vh;vh=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return dt=!1,Vg(e,t,s);dt=(e.flags&131072)!==0}else dt=!1,Te&&(t.flags&1048576)!==0&&Yc(t,gi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Oi(e,t),e=t.pendingProps;var h=cn(t,Ze.current);gn(t,s),h=Ra(null,t,a,e,h,s);var f=Aa();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(a)?(f=!0,fi(t)):f=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ka(t),h.updater=Pi,t.stateNode=h,h._reactInternals=t,Ma(t,a,e,s),t=qa(null,t,a,!0,f,s)):(t.tag=0,Te&&f&&ma(t),it(null,t,h,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,h=a._init,a=h(a._payload),t.type=a,h=t.tag=oy(a),e=Rt(a,e),h){case 0:t=Fa(null,t,a,e,s);break e;case 1:t=Wd(null,t,a,e,s);break e;case 11:t=Md(null,t,a,e,s);break e;case 14:t=zd(null,t,a,Rt(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Rt(a,h),Fa(e,t,a,h,s);case 1:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Rt(a,h),Wd(e,t,a,h,s);case 3:e:{if(Vd(t),e===null)throw Error(n(387));a=t.pendingProps,f=t.memoizedState,h=f.element,od(e,t),_i(t,a,null,s);var y=t.memoizedState;if(a=y.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){h=vn(Error(n(423)),t),t=Hd(e,t,a,s,h);break e}else if(a!==h){h=vn(Error(n(424)),t),t=Hd(e,t,a,s,h);break e}else for(yt=ar(t.stateNode.containerInfo.firstChild),gt=t,Te=!0,Ot=null,s=sd(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(fn(),a===h){t=Xt(e,t,s);break e}it(e,t,a,s)}t=t.child}return t;case 5:return ud(t),e===null&&va(t),a=t.type,h=t.pendingProps,f=e!==null?e.memoizedProps:null,y=h.children,ua(a,h)?y=null:f!==null&&ua(a,f)&&(t.flags|=32),qd(e,t),it(e,t,y,s),t.child;case 6:return e===null&&va(t),null;case 13:return Kd(e,t,s);case 4:return Ea(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=pn(t,null,a,s):it(e,t,a,s),t.child;case 11:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Rt(a,h),Md(e,t,a,h,s);case 7:return it(e,t,t.pendingProps,s),t.child;case 8:return it(e,t,t.pendingProps.children,s),t.child;case 12:return it(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,h=t.pendingProps,f=t.memoizedProps,y=h.value,Ee(wi,a._currentValue),a._currentValue=y,f!==null)if(Tt(f.value,y)){if(f.children===h.children&&!ut.current){t=Xt(e,t,s);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){y=f.child;for(var k=_.firstContext;k!==null;){if(k.context===a){if(f.tag===1){k=Yt(-1,s&-s),k.tag=2;var $=f.updateQueue;if($!==null){$=$.shared;var q=$.pending;q===null?k.next=k:(k.next=q.next,q.next=k),$.pending=k}}f.lanes|=s,k=f.alternate,k!==null&&(k.lanes|=s),ja(f.return,s,t),_.lanes|=s;break}k=k.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(n(341));y.lanes|=s,_=y.alternate,_!==null&&(_.lanes|=s),ja(y,s,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}it(e,t,h.children,s),t=t.child}return t;case 9:return h=t.type,a=t.pendingProps.children,gn(t,s),h=jt(h),a=a(h),t.flags|=1,it(e,t,a,s),t.child;case 14:return a=t.type,h=Rt(a,t.pendingProps),h=Rt(a.type,h),zd(e,t,a,h,s);case 15:return Bd(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Rt(a,h),Oi(e,t),t.tag=1,ct(a)?(e=!0,fi(t)):e=!1,gn(t,s),Rd(t,a,h),Ma(t,a,h,s),qa(null,t,a,!0,e,s);case 19:return Jd(e,t,s);case 22:return Fd(e,t,s)}throw Error(n(156,t.tag))};function wh(e,t){return Xu(e,t)}function iy(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,s,a){return new iy(e,t,s,a)}function ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oy(e){if(typeof e=="function")return ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ue)return 11;if(e===Ae)return 14}return 2}function vr(e,t){var s=e.alternate;return s===null?(s=Et(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Fi(e,t,s,a,h,f){var y=2;if(a=e,typeof e=="function")ul(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case ne:return Br(s.children,h,f,t);case de:y=8,h|=8;break;case me:return e=Et(12,s,t,h|2),e.elementType=me,e.lanes=f,e;case ye:return e=Et(13,s,t,h),e.elementType=ye,e.lanes=f,e;case be:return e=Et(19,s,t,h),e.elementType=be,e.lanes=f,e;case B:return qi(s,h,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:y=10;break e;case Re:y=9;break e;case Ue:y=11;break e;case Ae:y=14;break e;case pe:y=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Et(y,s,t,h),t.elementType=e,t.type=a,t.lanes=f,t}function Br(e,t,s,a){return e=Et(7,e,a,t),e.lanes=s,e}function qi(e,t,s,a){return e=Et(22,e,a,t),e.elementType=B,e.lanes=s,e.stateNode={isHidden:!1},e}function cl(e,t,s){return e=Et(6,e,null,t),e.lanes=s,e}function dl(e,t,s){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ay(e,t,s,a,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function hl(e,t,s,a,h,f,y,_,k){return e=new ay(e,t,s,_,k),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Et(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ka(f),e}function ly(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function xh(e){if(!e)return ur;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(ct(s))return Gc(e,s,t)}return t}function bh(e,t,s,a,h,f,y,_,k){return e=hl(s,a,!0,e,h,f,y,_,k),e.context=xh(null),s=e.current,a=ot(),h=gr(s),f=Yt(a,h),f.callback=t??null,hr(s,f,h),e.current.lanes=h,Gn(e,h,a),ft(e,a),e}function Wi(e,t,s,a){var h=t.current,f=ot(),y=gr(h);return s=xh(s),t.context===null?t.context=s:t.pendingContext=s,t=Yt(f,y),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=hr(h,t,y),e!==null&&(Lt(e,h,y,f),bi(e,h,y)),y}function Vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function fl(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function uy(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function pl(e){this._internalRoot=e}Hi.prototype.render=pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Wi(e,t,null,null)},Hi.prototype.unmount=pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Wi(null,e,null,null)}),t[Ht]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=oc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<sr.length&&t!==0&&t<sr[s].priority;s++);sr.splice(s,0,e),s===0&&uc(e)}};function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function cy(e,t,s,a,h){if(h){if(typeof a=="function"){var f=a;a=function(){var $=Vi(y);f.call($)}}var y=bh(t,a,e,0,null,!1,!1,"",Sh);return e._reactRootContainer=y,e[Ht]=y.current,ls(e.nodeType===8?e.parentNode:e),Ur(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var _=a;a=function(){var $=Vi(k);_.call($)}}var k=hl(e,0,!1,null,null,!1,!1,"",Sh);return e._reactRootContainer=k,e[Ht]=k.current,ls(e.nodeType===8?e.parentNode:e),Ur(function(){Wi(t,k,s,a)}),k}function Gi(e,t,s,a,h){var f=s._reactRootContainer;if(f){var y=f;if(typeof h=="function"){var _=h;h=function(){var k=Vi(y);_.call(k)}}Wi(t,y,e,h)}else y=cy(s,t,e,h,a);return Vi(y)}sc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Kn(t.pendingLanes);s!==0&&(Mo(t,s|1),ft(t,Me()),(xe&6)===0&&(bn=Me()+500,cr()))}break;case 13:Ur(function(){var a=Qt(e,1);if(a!==null){var h=ot();Lt(a,e,1,h)}}),fl(e,1)}},zo=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var s=ot();Lt(t,e,134217728,s)}fl(e,134217728)}},ic=function(e){if(e.tag===13){var t=gr(e),s=Qt(e,t);if(s!==null){var a=ot();Lt(s,e,t,a)}fl(e,t)}},oc=function(){return Se},ac=function(e,t){var s=Se;try{return Se=e,t()}finally{Se=s}},Ro=function(e,t,s){switch(t){case"input":if(zn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var h=di(a);if(!h)throw Error(n(90));st(a),zn(a,h)}}}break;case"textarea":$u(e,s);break;case"select":t=s.value,t!=null&&Yr(e,!!s.multiple,t,!1)}},Vu=ol,Hu=Ur;var dy={usingClientEntryPoint:!1,Events:[ds,ln,di,qu,Wu,ol]},ks={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hy={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qu(e),e===null?null:e.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Hs=Ji.inject(hy),Bt=Ji}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy,pt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(t))throw Error(n(200));return ly(e,t,null,s)},pt.createRoot=function(e,t){if(!ml(e))throw Error(n(299));var s=!1,a="",h=jh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=hl(e,1,!1,null,null,s,!1,a,h),e[Ht]=t.current,ls(e.nodeType===8?e.parentNode:e),new pl(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Qu(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Ur(e)},pt.hydrate=function(e,t,s){if(!Ki(t))throw Error(n(200));return Gi(null,e,t,!0,s)},pt.hydrateRoot=function(e,t,s){if(!ml(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,h=!1,f="",y=jh;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),t=bh(t,null,e,1,s??null,h,!1,f,y),e[Ht]=t.current,ls(e),a)for(e=0;e<a.length;e++)s=a[e],h=s._getVersion,h=h(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,h]:t.mutableSourceEagerHydrationData.push(s,h);return new Hi(t)},pt.render=function(e,t,s){if(!Ki(t))throw Error(n(200));return Gi(null,e,t,!1,s)},pt.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(n(40));return e._reactRootContainer?(Ur(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1},pt.unstable_batchedUpdates=ol,pt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Ki(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Gi(e,t,s,!1,a)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Rh;function Zf(){if(Rh)return vl.exports;Rh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),vl.exports=xy(),vl.exports}var Ah;function by(){if(Ah)return Qi;Ah=1;var i=Zf();return Qi.createRoot=i.createRoot,Qi.hydrateRoot=i.hydrateRoot,Qi}var _y=by();const jy=i=>i instanceof Error?i.message+`
`+i.stack:JSON.stringify(i,null,2);class Sy extends Xf.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?c.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[c.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),c.jsx("pre",{className:"mt-2 text-sm",children:jy(this.state.error)})]}):this.props.children}}Zf();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Is.apply(this,arguments)}var jr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(jr||(jr={}));const Ih="popstate";function ky(i){i===void 0&&(i={});function r(o,l){let{pathname:u,search:d,hash:p}=o.location;return Zl("",{pathname:u,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:fo(l)}return Ny(r,n,null,i)}function Be(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function ep(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ey(){return Math.random().toString(36).substr(2,8)}function Lh(i,r){return{usr:i.state,key:i.key,idx:r}}function Zl(i,r,n,o){return n===void 0&&(n=null),Is({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?Ln(r):r,{state:n,key:r&&r.key||o||Ey()})}function fo(i){let{pathname:r="/",search:n="",hash:o=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Ln(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substr(o),i=i.substr(0,o)),i&&(r.pathname=i)}return r}function Ny(i,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,p=jr.Pop,m=null,g=v();g==null&&(g=0,d.replaceState(Is({},d.state,{idx:g}),""));function v(){return(d.state||{idx:null}).idx}function w(){p=jr.Pop;let N=v(),U=N==null?null:N-g;g=N,m&&m({action:p,location:S.location,delta:U})}function x(N,U){p=jr.Push;let M=Zl(S.location,N,U);g=v()+1;let I=Lh(M,g),H=S.createHref(M);try{d.pushState(I,"",H)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;l.location.assign(H)}u&&m&&m({action:p,location:S.location,delta:1})}function j(N,U){p=jr.Replace;let M=Zl(S.location,N,U);g=v();let I=Lh(M,g),H=S.createHref(M);d.replaceState(I,"",H),u&&m&&m({action:p,location:S.location,delta:0})}function C(N){let U=l.location.origin!=="null"?l.location.origin:l.location.href,M=typeof N=="string"?N:fo(N);return M=M.replace(/ $/,"%20"),Be(U,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,U)}let S={get action(){return p},get location(){return i(l,d)},listen(N){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Ih,w),m=N,()=>{l.removeEventListener(Ih,w),m=null}},createHref(N){return r(l,N)},createURL:C,encodeLocation(N){let U=C(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:j,go(N){return d.go(N)}};return S}var $h;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})($h||($h={}));function Cy(i,r,n){return n===void 0&&(n="/"),Py(i,r,n)}function Py(i,r,n,o){let l=typeof r=="string"?Ln(r):r,u=yu(l.pathname||"/",n);if(u==null)return null;let d=tp(i);Ty(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=Fy(u);p=My(d[m],g)}return p}function tp(i,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(Be(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let g=kr([o,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(Be(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),tp(u.children,r,v,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:Dy(g,u.index),routesMeta:v})};return i.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,d);else for(let m of rp(u.path))l(u,d,m)}),r}function rp(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=rp(o.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...d),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Ty(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:Uy(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Oy=/^:[\w-]+$/,Ry=3,Ay=2,Iy=1,Ly=10,$y=-2,Dh=i=>i==="*";function Dy(i,r){let n=i.split("/"),o=n.length;return n.some(Dh)&&(o+=$y),r&&(o+=Ay),n.filter(l=>!Dh(l)).reduce((l,u)=>l+(Oy.test(u)?Ry:u===""?Iy:Ly),o)}function Uy(i,r){return i.length===r.length&&i.slice(0,-1).every((o,l)=>o===r[l])?i[i.length-1]-r[r.length-1]:0}function My(i,r,n){let{routesMeta:o}=i,l={},u="/",d=[];for(let p=0;p<o.length;++p){let m=o[p],g=p===o.length-1,v=u==="/"?r:r.slice(u.length)||"/",w=zy({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),x=m.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:kr([u,w.pathname]),pathnameBase:Hy(kr([u,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(u=kr([u,w.pathnameBase]))}return d}function zy(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=By(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((g,v,w)=>{let{paramName:x,isOptional:j}=v;if(x==="*"){let S=p[w]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const C=p[w];return j&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function By(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),ep(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Fy(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ep(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function yu(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function qy(i,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?Ln(i):i;return{pathname:n?n.startsWith("/")?n:Wy(n,r):r,search:Ky(o),hash:Gy(l)}}function Wy(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function bl(i,r,n,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vy(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function vu(i,r){let n=Vy(i);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function wu(i,r,n,o){o===void 0&&(o=!1);let l;typeof i=="string"?l=Ln(i):(l=Is({},i),Be(!l.pathname||!l.pathname.includes("?"),bl("?","pathname","search",l)),Be(!l.pathname||!l.pathname.includes("#"),bl("#","pathname","hash",l)),Be(!l.search||!l.search.includes("#"),bl("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let w=r.length-1;if(!o&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),w-=1;l.pathname=x.join("/")}p=w>=0?r[w]:"/"}let m=qy(l,p),g=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}const kr=i=>i.join("/").replace(/\/\/+/g,"/"),Hy=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Gy=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Jy(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const np=["post","put","patch","delete"];new Set(np);const Qy=["get",...np];new Set(Qy);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Ls.apply(this,arguments)}const xu=A.createContext(null),Yy=A.createContext(null),Er=A.createContext(null),xo=A.createContext(null),Nr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),sp=A.createContext(null);function Xy(i,r){let{relative:n}=r===void 0?{}:r;$n()||Be(!1);let{basename:o,navigator:l}=A.useContext(Er),{hash:u,pathname:d,search:p}=op(i,{relative:n}),m=d;return o!=="/"&&(m=d==="/"?o:kr([o,d])),l.createHref({pathname:m,search:p,hash:u})}function $n(){return A.useContext(xo)!=null}function zs(){return $n()||Be(!1),A.useContext(xo).location}function ip(i){A.useContext(Er).static||A.useLayoutEffect(i)}function Ct(){let{isDataRoute:i}=A.useContext(Nr);return i?dv():Zy()}function Zy(){$n()||Be(!1);let i=A.useContext(xu),{basename:r,future:n,navigator:o}=A.useContext(Er),{matches:l}=A.useContext(Nr),{pathname:u}=zs(),d=JSON.stringify(vu(l,n.v7_relativeSplatPath)),p=A.useRef(!1);return ip(()=>{p.current=!0}),A.useCallback(function(g,v){if(v===void 0&&(v={}),!p.current)return;if(typeof g=="number"){o.go(g);return}let w=wu(g,JSON.parse(d),u,v.relative==="path");i==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:kr([r,w.pathname])),(v.replace?o.replace:o.push)(w,v.state,v)},[r,o,d,u,i])}function op(i,r){let{relative:n}=r===void 0?{}:r,{future:o}=A.useContext(Er),{matches:l}=A.useContext(Nr),{pathname:u}=zs(),d=JSON.stringify(vu(l,o.v7_relativeSplatPath));return A.useMemo(()=>wu(i,JSON.parse(d),u,n==="path"),[i,d,u,n])}function ev(i,r){return tv(i,r)}function tv(i,r,n,o){$n()||Be(!1);let{navigator:l,static:u}=A.useContext(Er),{matches:d}=A.useContext(Nr),p=d[d.length-1],m=p?p.params:{};p&&p.pathname;let g=p?p.pathnameBase:"/";p&&p.route;let v=zs(),w;if(r){var x;let U=typeof r=="string"?Ln(r):r;g==="/"||(x=U.pathname)!=null&&x.startsWith(g)||Be(!1),w=U}else w=v;let j=w.pathname||"/",C=j;if(g!=="/"){let U=g.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(U.length).join("/")}let S=Cy(i,{pathname:C}),N=ov(S&&S.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:kr([g,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:kr([g,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),d,n,o);return r&&N?A.createElement(xo.Provider,{value:{location:Ls({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:jr.Pop}},N):N}function rv(){let i=cv(),r=Jy(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},r),n?A.createElement("pre",{style:l},n):null,null)}const nv=A.createElement(rv,null);class sv extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?A.createElement(Nr.Provider,{value:this.props.routeContext},A.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iv(i){let{routeContext:r,match:n,children:o}=i,l=A.useContext(xu);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Nr.Provider,{value:r},o)}function ov(i,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let d=i,p=(l=n)==null?void 0:l.errors;if(p!=null){let v=d.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);v>=0||Be(!1),d=d.slice(0,Math.min(d.length,v+1))}let m=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<d.length;v++){let w=d[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=v),w.route.id){let{loaderData:x,errors:j}=n,C=w.route.loader&&x[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||C){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((v,w,x)=>{let j,C=!1,S=null,N=null;n&&(j=p&&w.route.id?p[w.route.id]:void 0,S=w.route.errorElement||nv,m&&(g<0&&x===0?(hv("route-fallback"),C=!0,N=null):g===x&&(C=!0,N=w.route.hydrateFallbackElement||null)));let U=r.concat(d.slice(0,x+1)),M=()=>{let I;return j?I=S:C?I=N:w.route.Component?I=A.createElement(w.route.Component,null):w.route.element?I=w.route.element:I=v,A.createElement(iv,{match:w,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:I})};return n&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?A.createElement(sv,{location:n.location,revalidation:n.revalidation,component:S,error:j,children:M(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):M()},null)}var ap=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(ap||{}),lp=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(lp||{});function av(i){let r=A.useContext(xu);return r||Be(!1),r}function lv(i){let r=A.useContext(Yy);return r||Be(!1),r}function uv(i){let r=A.useContext(Nr);return r||Be(!1),r}function up(i){let r=uv(),n=r.matches[r.matches.length-1];return n.route.id||Be(!1),n.route.id}function cv(){var i;let r=A.useContext(sp),n=lv(),o=up();return r!==void 0?r:(i=n.errors)==null?void 0:i[o]}function dv(){let{router:i}=av(ap.UseNavigateStable),r=up(lp.UseNavigateStable),n=A.useRef(!1);return ip(()=>{n.current=!0}),A.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Ls({fromRouteId:r},u)))},[i,r])}const Uh={};function hv(i,r,n){Uh[i]||(Uh[i]=!0)}function fv(i,r){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Mh(i){let{to:r,replace:n,state:o,relative:l}=i;$n()||Be(!1);let{future:u,static:d}=A.useContext(Er),{matches:p}=A.useContext(Nr),{pathname:m}=zs(),g=Ct(),v=wu(r,vu(p,u.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(v);return A.useEffect(()=>g(JSON.parse(w),{replace:n,state:o,relative:l}),[g,w,l,n,o]),null}function Nt(i){Be(!1)}function pv(i){let{basename:r="/",children:n=null,location:o,navigationType:l=jr.Pop,navigator:u,static:d=!1,future:p}=i;$n()&&Be(!1);let m=r.replace(/^\/*/,"/"),g=A.useMemo(()=>({basename:m,navigator:u,static:d,future:Ls({v7_relativeSplatPath:!1},p)}),[m,p,u,d]);typeof o=="string"&&(o=Ln(o));let{pathname:v="/",search:w="",hash:x="",state:j=null,key:C="default"}=o,S=A.useMemo(()=>{let N=yu(v,m);return N==null?null:{location:{pathname:N,search:w,hash:x,state:j,key:C},navigationType:l}},[m,v,w,x,j,C,l]);return S==null?null:A.createElement(Er.Provider,{value:g},A.createElement(xo.Provider,{children:n,value:S}))}function mv(i){let{children:r,location:n}=i;return ev(eu(r),n)}new Promise(()=>{});function eu(i,r){r===void 0&&(r=[]);let n=[];return A.Children.forEach(i,(o,l)=>{if(!A.isValidElement(o))return;let u=[...r,l];if(o.type===A.Fragment){n.push.apply(n,eu(o.props.children,u));return}o.type!==Nt&&Be(!1),!o.props.index||!o.props.children||Be(!1);let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=eu(o.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},tu.apply(this,arguments)}function gv(i,r){if(i==null)return{};var n={},o=Object.keys(i),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=i[l]);return n}function yv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vv(i,r){return i.button===0&&(!r||r==="_self")&&!yv(i)}const wv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xv="6";try{window.__reactRouterVersion=xv}catch{}const bv="startTransition",zh=yy[bv];function _v(i){let{basename:r,children:n,future:o,window:l}=i,u=A.useRef();u.current==null&&(u.current=ky({window:l,v5Compat:!0}));let d=u.current,[p,m]=A.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},v=A.useCallback(w=>{g&&zh?zh(()=>m(w)):m(w)},[m,g]);return A.useLayoutEffect(()=>d.listen(v),[d,v]),A.useEffect(()=>fv(o),[o]),A.createElement(pv,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:d,future:o})}const jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=A.forwardRef(function(r,n){let{onClick:o,relative:l,reloadDocument:u,replace:d,state:p,target:m,to:g,preventScrollReset:v,viewTransition:w}=r,x=gv(r,wv),{basename:j}=A.useContext(Er),C,S=!1;if(typeof g=="string"&&Sv.test(g)&&(C=g,jv))try{let I=new URL(window.location.href),H=g.startsWith("//")?new URL(I.protocol+g):new URL(g),ee=yu(H.pathname,j);H.origin===I.origin&&ee!=null?g=ee+H.search+H.hash:S=!0}catch{}let N=Xy(g,{relative:l}),U=kv(g,{replace:d,state:p,target:m,preventScrollReset:v,relative:l,viewTransition:w});function M(I){o&&o(I),I.defaultPrevented||U(I)}return A.createElement("a",tu({},x,{href:C||N,onClick:S||u?o:M,ref:n,target:m}))});var Bh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Bh||(Bh={}));var Fh;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Fh||(Fh={}));function kv(i,r){let{target:n,replace:o,state:l,preventScrollReset:u,relative:d,viewTransition:p}=r===void 0?{}:r,m=Ct(),g=zs(),v=op(i,{relative:d});return A.useCallback(w=>{if(vv(w,n)){w.preventDefault();let x=o!==void 0?o:fo(g)===fo(v);m(i,{replace:x,state:l,preventScrollReset:u,relative:d,viewTransition:p})}},[g,m,v,o,l,n,i,u,d,p])}var ru=function(i,r){return ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},ru(i,r)};function cp(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ru(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var po=function(){return po=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},po.apply(this,arguments)};function Dn(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function dp(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var p=i.length-1;p>=0;p--)(d=i[p])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function hp(i,r){return function(n,o){r(n,o,i)}}function fp(i,r,n,o,l,u){function d(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var p=o.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!r&&i?o.static?i:i.prototype:null,v=r||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),w,x=!1,j=n.length-1;j>=0;j--){var C={};for(var S in o)C[S]=S==="access"?{}:o[S];for(var S in o.access)C.access[S]=o.access[S];C.addInitializer=function(U){if(x)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(U||null))};var N=(0,n[j])(p==="accessor"?{get:v.get,set:v.set}:v[m],C);if(p==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(w=d(N.get))&&(v.get=w),(w=d(N.set))&&(v.set=w),(w=d(N.init))&&l.unshift(w)}else(w=d(N))&&(p==="field"?l.unshift(w):v[m]=w)}g&&Object.defineProperty(g,o.name,v),x=!0}function pp(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function mp(i){return typeof i=="symbol"?i:"".concat(i)}function gp(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function yp(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function re(i,r,n,o){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function p(v){try{g(o.next(v))}catch(w){d(w)}}function m(v){try{g(o.throw(v))}catch(w){d(w)}}function g(v){v.done?u(v.value):l(v.value).then(p,m)}g((o=o.apply(i,r||[])).next())})}function vp(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=p(0),d.throw=p(1),d.return=p(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(g){return function(v){return m([g,v])}}function m(g){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(o=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(i,n)}catch(v){g=[6,v],l=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var bo=Object.create?function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}:function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]};function wp(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&bo(r,i,n)}function mo(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function bu(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(p){d={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return u}function xp(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(bu(arguments[r]));return i}function bp(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,p=u.length;d<p;d++,l++)o[l]=u[d];return o}function _p(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function An(i){return this instanceof An?(this.v=i,this):new An(i)}function jp(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(j){return function(C){return Promise.resolve(C).then(j,w)}}function p(j,C){o[j]&&(l[j]=function(S){return new Promise(function(N,U){u.push([j,S,N,U])>1||m(j,S)})},C&&(l[j]=C(l[j])))}function m(j,C){try{g(o[j](C))}catch(S){x(u[0][3],S)}}function g(j){j.value instanceof An?Promise.resolve(j.value.v).then(v,w):x(u[0][2],j)}function v(j){m("next",j)}function w(j){m("throw",j)}function x(j,C){j(C),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Sp(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(d){return(n=!n)?{value:An(i[l](d)),done:!1}:u?u(d):d}:u}}function kp(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof mo=="function"?mo(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(d){return new Promise(function(p,m){d=i[u](d),l(p,m,d.done,d.value)})}}function l(u,d,p,m){Promise.resolve(m).then(function(g){u({value:g,done:p})},d)}}function Ep(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Ev=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r},nu=function(i){return nu=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},nu(i)};function Np(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=nu(i),o=0;o<n.length;o++)n[o]!=="default"&&bo(r,i,n[o]);return Ev(r,i),r}function Cp(i){return i&&i.__esModule?i:{default:i}}function Pp(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Tp(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function Op(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Rp(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var Nv=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function Ap(i){function r(u){i.error=i.hasError?new Nv(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else o|=1}catch(d){r(d)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function Ip(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,d){return o?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):i}const Cv={__extends:cp,__assign:po,__rest:Dn,__decorate:dp,__param:hp,__esDecorate:fp,__runInitializers:pp,__propKey:mp,__setFunctionName:gp,__metadata:yp,__awaiter:re,__generator:vp,__createBinding:bo,__exportStar:wp,__values:mo,__read:bu,__spread:xp,__spreadArrays:bp,__spreadArray:_p,__await:An,__asyncGenerator:jp,__asyncDelegator:Sp,__asyncValues:kp,__makeTemplateObject:Ep,__importStar:Np,__importDefault:Cp,__classPrivateFieldGet:Pp,__classPrivateFieldSet:Tp,__classPrivateFieldIn:Op,__addDisposableResource:Rp,__disposeResources:Ap,__rewriteRelativeImportExtension:Ip},Pv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Rp,get __assign(){return po},__asyncDelegator:Sp,__asyncGenerator:jp,__asyncValues:kp,__await:An,__awaiter:re,__classPrivateFieldGet:Pp,__classPrivateFieldIn:Op,__classPrivateFieldSet:Tp,__createBinding:bo,__decorate:dp,__disposeResources:Ap,__esDecorate:fp,__exportStar:wp,__extends:cp,__generator:vp,__importDefault:Cp,__importStar:Np,__makeTemplateObject:Ep,__metadata:yp,__param:hp,__propKey:mp,__read:bu,__rest:Dn,__rewriteRelativeImportExtension:Ip,__runInitializers:pp,__setFunctionName:gp,__spread:xp,__spreadArray:_p,__spreadArrays:bp,__values:mo,default:Cv},Symbol.toStringTag,{value:"Module"})),Tv="modulepreload",Ov=function(i){return"/"+i},qh={},Un=function(r,n,o){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(n.map(m=>{if(m=Ov(m),m in qh)return;qh[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Tv,g||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((x,j)=>{w.addEventListener("load",x),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},Rv=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>Un(async()=>{const{default:o}=await Promise.resolve().then(()=>Gr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)};class _u extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class Wh extends _u{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Vh extends _u{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Hh extends _u{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var su;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(su||(su={}));class Av{constructor(r,{headers:n={},customFetch:o,region:l=su.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Rv(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return re(this,arguments,void 0,function*(n,o={}){var l;try{const{headers:u,method:d,body:p,signal:m}=o;let g={},{region:v}=o;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let x;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=p):typeof p=="string"?(g["Content-Type"]="text/plain",x=p):typeof FormData<"u"&&p instanceof FormData?x=p:(g["Content-Type"]="application/json",x=JSON.stringify(p)):x=p;const j=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:x,signal:m}).catch(U=>{throw U.name==="AbortError"?U:new Wh(U)}),C=j.headers.get("x-relay-error");if(C&&C==="true")throw new Vh(j);if(!j.ok)throw new Hh(j);let S=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),N;return S==="application/json"?N=yield j.json():S==="application/octet-stream"||S==="application/pdf"?N=yield j.blob():S==="text/event-stream"?N=j:S==="multipart/form-data"?N=yield j.formData():N=yield j.text(),{data:N,error:null,response:j}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Wh(u)}:{data:null,error:u,response:u instanceof Hh||u instanceof Vh?u.context:void 0}}})}}var nt={};const Mn=Yf(Pv);var Yi={},Xi={},Zi={},eo={},to={},Iv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},In=Iv();const Lv=In.fetch,Lp=In.fetch.bind(In),$p=In.Headers,$v=In.Request,Dv=In.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:$p,Request:$v,Response:Dv,default:Lp,fetch:Lv},Symbol.toStringTag,{value:"Module"})),Uv=Yf(Gr);var ro={},Kh;function Dp(){if(Kh)return ro;Kh=1,Object.defineProperty(ro,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ro.default=i,ro}var Gh;function Up(){if(Gh)return to;Gh=1,Object.defineProperty(to,"__esModule",{value:!0});const i=Mn,r=i.__importDefault(Uv),n=i.__importDefault(Dp());class o{constructor(u){var d,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,w,x,j;let C=null,S=null,N=null,U=g.status,M=g.statusText;if(g.ok){if(this.method!=="HEAD"){const X=await g.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?S=X:S=JSON.parse(X))}const H=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),ee=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");H&&ee&&ee.length>1&&(N=parseInt(ee[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(C={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,N=null,U=406,M="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const H=await g.text();try{C=JSON.parse(H),Array.isArray(C)&&g.status===404&&(S=[],C=null,U=200,M="OK")}catch{g.status===404&&H===""?(U=204,M="No Content"):C={message:H}}if(C&&this.isMaybeSingle&&(!((j=C==null?void 0:C.details)===null||j===void 0)&&j.includes("0 rows"))&&(C=null,U=200,M="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:S,count:N,status:U,statusText:M}});return this.shouldThrowOnError||(m=m.catch(g=>{var v,w,x;return{error:{message:`${(v=g==null?void 0:g.name)!==null&&v!==void 0?v:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return to.default=o,to}var Jh;function Mp(){if(Jh)return eo;Jh=1,Object.defineProperty(eo,"__esModule",{value:!0});const r=Mn.__importDefault(Up());class n extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:p=d}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var v;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return eo.default=n,eo}var Qh;function ju(){if(Qh)return Zi;Qh=1,Object.defineProperty(Zi,"__esModule",{value:!0});const r=Mn.__importDefault(Mp()),n=new RegExp("[,()]");class o extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const p=Array.from(new Set(d)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${g}fts${v}.${d}`),this}match(u){return Object.entries(u).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(u,d,p){return this.url.searchParams.append(u,`not.${d}.${p}`),this}or(u,{foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,p){return this.url.searchParams.append(u,`${d}.${p}`),this}}return Zi.default=o,Zi}var Yh;function zp(){if(Yh)return Xi;Yh=1,Object.defineProperty(Xi,"__esModule",{value:!0});const r=Mn.__importDefault(ju());class n{constructor(l,{headers:u={},schema:d,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=p}select(l,u){const{head:d=!1,count:p}=u??{},m=d?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",v),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:p,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((x,j)=>x.concat(Object.keys(j)),[]);if(w.length>0){const x=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:u}={}){var d;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Xi.default=n,Xi}var Xh;function Mv(){if(Xh)return Yi;Xh=1,Object.defineProperty(Yi,"__esModule",{value:!0});const i=Mn,r=i.__importDefault(zp()),n=i.__importDefault(ju());class o{constructor(u,{headers:d={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=p,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:p=!1,get:m=!1,count:g}={}){var v;let w;const x=new URL(`${this.url}/rpc/${u}`);let j;p||m?(w=p?"HEAD":"GET",Object.entries(d).filter(([S,N])=>N!==void 0).map(([S,N])=>[S,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([S,N])=>{x.searchParams.append(S,N)})):(w="POST",j=d);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new n.default({method:w,url:x,headers:C,schema:this.schemaName,body:j,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Yi.default=o,Yi}var Zh;function zv(){if(Zh)return nt;Zh=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const i=Mn,r=i.__importDefault(Mv());nt.PostgrestClient=r.default;const n=i.__importDefault(zp());nt.PostgrestQueryBuilder=n.default;const o=i.__importDefault(ju());nt.PostgrestFilterBuilder=o.default;const l=i.__importDefault(Mp());nt.PostgrestTransformBuilder=l.default;const u=i.__importDefault(Up());nt.PostgrestBuilder=u.default;const d=i.__importDefault(Dp());return nt.PostgrestError=d.default,nt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},nt}var Bp=zv();const Fp=mu(Bp),Bv=Qf({__proto__:null,default:Fp},[Bp]),{PostgrestClient:Fv,PostgrestQueryBuilder:Dx,PostgrestFilterBuilder:Ux,PostgrestTransformBuilder:Mx,PostgrestBuilder:zx,PostgrestError:Bx}=Fp||Bv;class qv{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Wv="2.78.0",Vv=`realtime-js/${Wv}`,Hv="1.0.0",iu=1e4,Kv=1e3,Gv=100;var Ts;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ts||(Ts={}));var He;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(He||(He={}));var Mt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Mt||(Mt={}));var ou;(function(i){i.websocket="websocket"})(ou||(ou={}));var Vr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Vr||(Vr={}));class Jv{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,n,o)}_decodeBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const p=o.decode(r.slice(d,d+l));d=d+l;const m=o.decode(r.slice(d,d+u));d=d+u;const g=JSON.parse(o.decode(r.slice(d,r.byteLength)));return{ref:null,topic:p,event:m,payload:g}}}class qp{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ne||(Ne={}));const ef=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Qv(d,i,r,l),u),{}):{}},Qv=(i,r,n,o)=>{const l=r.find(p=>p.name===i),u=l==null?void 0:l.type,d=n[i];return u&&!o.includes(u)?Wp(u,d):au(d)},Wp=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return e0(r,n)}switch(i){case Ne.bool:return Yv(r);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Xv(r);case Ne.json:case Ne.jsonb:return Zv(r);case Ne.timestamp:return t0(r);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return au(r);default:return au(r)}},au=i=>i,Yv=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Xv=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Zv=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},e0=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const d=i.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>Wp(r,p))}return i},t0=i=>typeof i=="string"?i.replace(" ","T"):i,Vp=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class _l{constructor(r,n,o={},l=iu){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var tf;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(tf||(tf={}));class Os{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=Os.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Os.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),d=this.transformState(n),p={},m={};return this.map(u,(g,v)=>{d[g]||(m[g]=v)}),this.map(d,(g,v)=>{const w=u[g];if(w){const x=v.map(N=>N.presence_ref),j=w.map(N=>N.presence_ref),C=v.filter(N=>j.indexOf(N.presence_ref)<0),S=w.filter(N=>x.indexOf(N.presence_ref)<0);C.length>0&&(p[g]=C),S.length>0&&(m[g]=S)}else p[g]=v}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var g;const v=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(m),v.length>0){const w=r[p].map(j=>j.presence_ref),x=v.filter(j=>w.indexOf(j.presence_ref)<0);r[p].unshift(...x)}o(p,v,m)}),this.map(d,(p,m)=>{let g=r[p];if(!g)return;const v=m.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),r[p]=g,l(p,g,m),g.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rf;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(rf||(rf={}));var Rs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Rs||(Rs={}));var er;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(er||(er={}));class Su{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _l(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new qp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new Os(this),this.broadcastEndpointURL=Vp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,g=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},x={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>r==null?void 0:r(er.CHANNEL_ERROR,j)),this._onClose(()=>r==null?void 0:r(er.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var C;if(this.socket.setAuth(),j===void 0){r==null||r(er.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,N=(C=S==null?void 0:S.length)!==null&&C!==void 0?C:0,U=[];for(let M=0;M<N;M++){const I=S[M],{filter:{event:H,schema:ee,table:X,filter:ne}}=I,de=j&&j[M];if(de&&de.event===H&&de.schema===ee&&de.table===X&&de.filter===ne)U.push(Object.assign(Object.assign({},I),{id:de.id}));else{this.unsubscribe(),this.state=He.errored,r==null||r(er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(er.SUBSCRIBED);return}}).receive("error",j=>{this.state=He.errored,r==null||r(er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===He.joined&&r===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new _l(this,Mt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new _l(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Gv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:g,join:v}=Mt;if(o&&[p,m,g,v].indexOf(d)>=0&&o!==this._joinRef())return;let x=this._onMessage(d,n,o);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(j=>{var C,S,N;return((C=j.filter)===null||C===void 0?void 0:C.event)==="*"||((N=(S=j.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(j=>j.callback(x,o)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var C,S,N,U,M,I;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const H=j.id,ee=(C=j.filter)===null||C===void 0?void 0:C.event;return H&&((S=n.ids)===null||S===void 0?void 0:S.includes(H))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const H=(M=(U=j==null?void 0:j.filter)===null||U===void 0?void 0:U.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return H==="*"||H===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:S,table:N,commit_timestamp:U,type:M,errors:I}=C;x=Object.assign(Object.assign({},{schema:S,table:N,commit_timestamp:U,eventType:M,new:{},old:{},errors:I}),this._getPayloadRecords(C))}j.callback(x,o)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Su.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Mt.close,{},r)}_onError(r){this._on(Mt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=ef(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=ef(r.columns,r.old_record)),n}}const jl=()=>{},no={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r0=[1e3,2e3,5e3,1e4],n0=1e4,s0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i0{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=iu,this.transport=null,this.heartbeatIntervalMs=no.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jl,this.ref=0,this.reconnectTimer=null,this.logger=jl,this.conn=null,this.sendBuffer=[],this.serializer=new Jv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Un(async()=>{const{default:p}=await Promise.resolve().then(()=>Gr);return{default:p}},void 0).then(({default:p})=>p(...d)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${ou.websocket}`,this.httpEndpoint=Vp(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qv.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hv}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return Vr.Connecting;case Ts.open:return Vr.Open;case Ts.closing:return Vr.Closing;default:return Vr.Closed}}isConnected(){return this.connectionState()===Vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Su(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Kv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},no.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:d}=n,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Mt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([s0],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:Vv};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new qp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},no.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,d,p,m,g,v;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:iu,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:no.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:jl,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:w=>r0[w-1]||n0,this.encode=(g=r==null?void 0:r.encode)!==null&&g!==void 0?g:(w,x)=>x(JSON.stringify(w)),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class ku extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function $e(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class o0 extends ku{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lu extends ku{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Eu=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>Un(async()=>{const{default:o}=await Promise.resolve().then(()=>Gr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},a0=()=>re(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Un(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response}),uu=i=>{if(Array.isArray(i))return i.map(n=>uu(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=uu(o)}),r},l0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Sl=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},u0=(i,r,n)=>re(void 0,void 0,void 0,function*(){const o=yield a0();i instanceof o&&!(n!=null&&n.noResolveJson)?i.json().then(l=>{const u=i.status||500,d=(l==null?void 0:l.statusCode)||u+"";r(new o0(Sl(l),u,d))}).catch(l=>{r(new lu(Sl(l),l))}):r(new lu(Sl(i),i))}),c0=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!o?l:(l0(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Bs(i,r,n,o,l,u){return re(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,c0(r,o,l,u)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>u0(m,p,o))})})}function $s(i,r,n,o){return re(this,void 0,void 0,function*(){return Bs(i,"GET",r,n,o)})}function Ut(i,r,n,o,l){return re(this,void 0,void 0,function*(){return Bs(i,"POST",r,o,l,n)})}function cu(i,r,n,o,l){return re(this,void 0,void 0,function*(){return Bs(i,"PUT",r,o,l,n)})}function d0(i,r,n,o){return re(this,void 0,void 0,function*(){return Bs(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Nu(i,r,n,o,l){return re(this,void 0,void 0,function*(){return Bs(i,"DELETE",r,o,l,n)})}class h0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}var Hp;class f0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Hp]="BlobDownloadBuilder",this.promise=null}asStream(){return new h0(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}Hp=Symbol.toStringTag;const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m0{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=Eu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return re(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},nf),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=o,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),w=yield(r=="PUT"?cu:Ut)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:p},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}upload(r,n,o){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return re(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:nf.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",g.cacheControl)):(m=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const w=yield cu(this.fetch,p.toString(),m,{headers:v});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return re(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Ut(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+u.url),p=d.searchParams.get("token");if(!p)throw new ku("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}update(r,n,o){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return re(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}copy(r,n,o){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return re(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ut(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return re(this,void 0,void 0,function*(){try{const l=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",p=this._getFinalPath(r),m=()=>$s(this.fetch,`${this.url}/${l}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new f0(m,this.shouldThrowOnError)}info(r){return re(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield $s(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uu(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}exists(r){return re(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield d0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o)&&o instanceof lu){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${g}`)}}}remove(r){return re(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}list(r,n,o){return re(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},p0),n),{prefix:r||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}listV2(r,n){return re(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const Kp="2.78.0",Gp={"X-Client-Info":`storage-js/${Kp}`};class g0{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gp),n),this.fetch=Eu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return re(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield $s(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}getBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}createBucket(r){return re(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return re(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}emptyBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class y0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gp),n),this.fetch=Eu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listBuckets(r){return re(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield $s(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}const Cu={"X-Client-Info":`storage-js/${Kp}`,"Content-Type":"application/json"};class Jp extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class kl extends Jp{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v0 extends Jp{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var sf;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sf||(sf={}));const Pu=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>Un(async()=>{const{default:o}=await Promise.resolve().then(()=>Gr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},w0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},of=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),x0=(i,r,n)=>re(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const p=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";r(new kl(of(d),l,p))}).catch(()=>{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new kl(p,l,d))});else{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new kl(p,l,d))}}else r(new v0(of(i),i))}),b0=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return o?(w0(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function _0(i,r,n,o,l,u){return re(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,b0(r,o,l,u)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>x0(m,p,o))})})}function xt(i,r,n,o,l){return re(this,void 0,void 0,function*(){return _0(i,"POST",r,o,l,n)})}class j0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),n),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return re(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return re(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}})}listIndexes(r){return re(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return re(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}})}}class S0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),n),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return re(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getVectors(r){return re(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}listVectors(r){return re(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield xt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}queryVectors(r){return re(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return re(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}class k0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),n),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return re(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getBucket(r){return re(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}listBuckets(){return re(this,arguments,void 0,function*(r={}){try{return{data:yield xt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return re(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}class E0 extends k0{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new N0(this.url,this.headers,r,this.fetch)}}class N0 extends j0{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new C0(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class C0 extends S0{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P0 extends g0{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new m0(this.url,this.headers,r,this.fetch)}get vectors(){return new E0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y0(this.url+"/iceberg",this.headers,this.fetch)}}const T0="2.78.0";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const O0={"X-Client-Info":`supabase-js-${Ps}/${T0}`},R0={headers:O0},A0={schema:"public"},I0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L0={},$0=i=>{let r;return i?r=i:typeof fetch>"u"?r=Lp:r=fetch,(...n)=>r(...n)},D0=()=>typeof Headers>"u"?$p:Headers,U0=(i,r,n)=>{const o=$0(n),l=D0();return async(u,d)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:i;let g=new l(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},d),{headers:g}))}};function M0(i){return i.endsWith("/")?i:i+"/"}function z0(i,r){var n,o;const{db:l,auth:u,realtime:d,global:p}=i,{db:m,auth:g,realtime:v,global:w}=r,x={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function B0(i){const r=i==null?void 0:i.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qp="2.78.0",Tn=30*1e3,du=3,El=du*Tn,F0="http://localhost:9999",q0="supabase.auth.token",W0={"X-Client-Info":`gotrue-js/${Qp}`},hu="X-Supabase-Api-Version",Yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=10*60*1e3;class Ds extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function oe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class K0 extends Ds{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function G0(i){return oe(i)&&i.name==="AuthApiError"}class Hr extends Ds{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Cr extends Ds{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class $t extends Cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J0(i){return oe(i)&&i.name==="AuthSessionMissingError"}class jn extends Cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class so extends Cr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class io extends Cr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q0(i){return oe(i)&&i.name==="AuthImplicitGrantRedirectError"}class af extends Cr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fu extends Cr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Nl(i){return oe(i)&&i.name==="AuthRetryableFetchError"}class lf extends Cr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class pu extends Cr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uf=` 	
\r=`.split(""),Y0=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<uf.length;r+=1)i[uf[r].charCodeAt(0)]=-2;for(let r=0;r<go.length;r+=1)i[go[r].charCodeAt(0)]=r;return i})();function cf(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(go[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(go[o]),r.queuedBits-=6}}function Xp(i,r,n){const o=Y0[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function df(i){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{ew(d,o,n)};for(let d=0;d<i.length;d+=1)Xp(i.charCodeAt(d),l,u);return r.join("")}function X0(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Z0(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}X0(o,r)}}function ew(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Rn(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)Xp(i.charCodeAt(l),n,o);return new Uint8Array(r)}function tw(i){const r=[];return Z0(i,n=>r.push(n)),new Uint8Array(r)}function Kr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>cf(l,n,o)),cf(null,n,o),r.join("")}function rw(i){return Math.round(Date.now()/1e3)+i}function nw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",Fr={tested:!1,writable:!1},Zp=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fr.tested)return Fr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Fr.tested=!0,Fr.writable=!0}catch{Fr.tested=!0,Fr.writable=!1}return Fr.writable};function sw(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const em=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>Un(async()=>{const{default:o}=await Promise.resolve().then(()=>Gr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},iw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",On=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},qr=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xr=async(i,r)=>{await i.removeItem(r)};class _o{constructor(){this.promise=new _o.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}_o.promiseConstructor=Promise;function Cl(i){const r=i.split(".");if(r.length!==3)throw new pu("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!V0.test(r[o]))throw new pu("JWT not in base64url format");return{header:JSON.parse(df(r[0])),payload:JSON.parse(df(r[1])),signature:Rn(r[2]),raw:{header:r[0],payload:r[1]}}}async function ow(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function aw(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!r(u,null,d)){o(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function lw(i){return("0"+i.toString(16)).substr(-2)}function uw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,lw).join("")}async function cw(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function dw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await cw(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sn(i,r,n=!1){const o=uw();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await On(i,`${r}-code-verifier`,l);const u=await dw(o);return[u,o===u?"plain":"s256"]}const hw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fw(i){const r=i.headers.get(hu);if(!r||!r.match(hw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function pw(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function mw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kn(i){if(!gw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yw(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function hf(i){return JSON.parse(JSON.stringify(i))}const Wr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),vw=[502,503,504];async function ff(i){var r;if(!iw(i))throw new fu(Wr(i),0);if(vw.includes(i.status))throw new fu(Wr(i),i.status);let n;try{n=await i.json()}catch(u){throw new Hr(Wr(u),u)}let o;const l=fw(i);if(l&&l.getTime()>=Yp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new lf(Wr(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new lf(Wr(n),i.status,n.weak_password.reasons);throw new K0(Wr(n),i.status||500,o)}const ww=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function he(i,r,n,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[hu]||(u[hu]=Yp["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await xw(i,r,n+p,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function xw(i,r,n,o,l,u){const d=ww(r,o,l,u);let p;try{p=await i(n,Object.assign({},d))}catch(m){throw console.error(m),new fu(Wr(m),0)}if(p.ok||await ff(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(m){await ff(m)}}function Dt(i){var r;let n=null;jw(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=rw(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function pf(i){const r=Dt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function _r(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function bw(i){return{data:i,error:null}}function _w(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,d=Dn(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function mf(i){return i}function jw(i){return i.access_token&&i.refresh_token&&i.expires_in}const Tl=["global","local","others"];class Sw{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=em(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Tl[0]){if(Tl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_r})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Dn(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:_w,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:_r})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:mf});if(v.error)throw v.error;const w=await v.json(),x=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);g[`${N}Page`]=S}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){kn(r);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:_r})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){kn(r);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:_r})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){kn(r);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:_r})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){kn(r.userId);try{const{data:n,error:o}=await he(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(r){kn(r.userId),kn(r.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:mf});if(v.error)throw v.error;const w=await v.json(),x=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);g[`${N}Page`]=S}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function gf(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const En={debug:!!(globalThis&&Zp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class kw extends tm{}async function Ew(i,r,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new kw(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(En.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Nw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rm(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Cw(i){return parseInt(i,16)}function Pw(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function Tw(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:g,scheme:v,uri:w,version:x}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const j=rm(i.address),C=v?`${v}://${o}`:o,S=i.statement?`${i.statement}
`:"",N=`${C} wants you to sign in with your Ethereum account:
${j}

${S}`;let U=`URI: ${w}
Version: ${x}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),p&&(U+=`
Not Before: ${p.toISOString()}`),m&&(U+=`
Request ID: ${m}`),g){let M=`
Resources:`;for(const I of g){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);M+=`
- ${I}`}U+=M}return`${N}
${U}`}class qe extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class yo extends qe{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ow({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new qe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(nm(d)){if(u.rp.id!==d)return new qe({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Rw({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new qe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(nm(o)){if(n.rpId!==o)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Aw{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Iw=new Aw;function Lw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=Dn(i,["challenge","user","excludeCredentials"]),u=Rn(r).buffer,d=Object.assign(Object.assign({},n),{id:Rn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Rn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function $w(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=Dn(i,["challenge","allowCredentials"]),l=Rn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:Rn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Dw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Kr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Kr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Uw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Kr(new Uint8Array(l.authenticatorData)),clientDataJSON:Kr(new Uint8Array(l.clientDataJSON)),signature:Kr(new Uint8Array(l.signature)),userHandle:l.userHandle?Kr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function nm(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function yf(){var i,r;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Mw(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",r)}:{data:null,error:new yo("Empty credential response",r)}}catch(r){return{data:null,error:Ow({error:r,options:i})}}}async function zw(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",r)}:{data:null,error:new yo("Empty credential response",r)}}catch(r){return{data:null,error:Rw({error:r,options:i})}}}const Bw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Fw={userVerification:"preferred",hints:["security-key"]};function vo(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(n(d))o[u]=d;else if(r(d)){const p=o[u];r(p)?o[u]=vo(p,d):o[u]=vo(d)}else o[u]=d}return o}function qw(i,r){return vo(Bw,i,r||{})}function Ww(i,r){return vo(Fw,i,r||{})}class Vw{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:p};const m=l??Iw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=qw(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:w}=await Mw({publicKey:g,signal:m});return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=Ww(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:w}=await zw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Hr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}},u){if(!n)return{data:null,error:new Ds("rpId is required for WebAuthn authentication")};try{if(!yf())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Hr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l},u){if(!n)return{data:null,error:new Ds("rpId is required for WebAuthn registration")};try{if(!yf())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===r&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Hr("Unexpected error in register",d)}}}}Nw();const Hw={url:F0,storageKey:q0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vf(i,r,n){return await n()}const Nn={};class Us{get jwks(){var r,n;return(n=(r=Nn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Nn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Hw),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Sw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=em(l.fetch),this.lock=l.lock||vf,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:at()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ew:this.lock=vf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Zp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gf(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=gf(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qp}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=sw(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),at()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Q0(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?{error:n}:{error:new Hr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Dt}),{data:d,error:p}=u;if(p||!d)return{data:{user:null,session:null},error:p};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(oe(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:v,password:w,options:x}=r;let j=null,C=null;this.flowType==="pkce"&&([j,C]=await Sn(this.storage,this.storageKey)),u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:v,password:w,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:j,code_challenge_method:C},xform:Dt})}else if("phone"in r){const{phone:v,password:w,options:x}=r;u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},channel:(l=x==null?void 0:x.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Dt})}else throw new so("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return{data:{user:null,session:null},error:p};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(oe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:p}=r;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pf})}else if("phone"in r){const{phone:u,password:d,options:p}=r;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pf})}else throw new so("You must provide either an email or phone number and a password");const{data:o,error:l}=n;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new jn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,d,p,m,g,v,w,x;let j,C;if("message"in r)j=r.message,C=r.signature;else{const{chain:S,wallet:N,statement:U,options:M}=r;let I;if(at())if(typeof N=="object")I=N;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")I=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=N}const H=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href),ee=await I.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=rm(ee[0]);let ne=(o=M==null?void 0:M.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ne){const me=await I.request({method:"eth_chainId"});ne=Cw(me)}const de={domain:H.host,address:X,statement:U,uri:H.href,version:"1",chainId:ne,nonce:(l=M==null?void 0:M.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=M==null?void 0:M.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=M==null?void 0:M.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=M==null?void 0:M.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=M==null?void 0:M.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=M==null?void 0:M.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=Tw(de),C=await I.request({method:"personal_sign",params:[Pw(j),X]})}try{const{data:S,error:N}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:C},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Dt});if(N)throw N;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new jn}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:N})}catch(S){if(oe(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(r){var n,o,l,u,d,p,m,g,v,w,x,j;let C,S;if("message"in r)C=r.message,S=r.signature;else{const{chain:N,wallet:U,statement:M,options:I}=r;let H;if(at())if(typeof U=="object")H=U;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))H=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=U}const ee=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in H&&H.signIn){const X=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),M?{statement:M}:null));let ne;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ne=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ne=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)C=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),S=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ee.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(l=(o=I==null?void 0:I.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((d=I==null?void 0:I.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((w=(v=I==null?void 0:I.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...I.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const X=await H.signMessage(new TextEncoder().encode(C),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=X}}try{const{data:N,error:U}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Kr(S)},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Dt});if(U)throw U;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new jn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:U})}catch(N){if(oe(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(r){const n=await qr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Dt});if(await xr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new jn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(oe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:d}=r,p=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dt}),{data:m,error:g}=p;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new jn}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,o,l,u,d;try{if("email"in r){const{email:p,options:m}=r;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Sn(this.storage,this.storageKey));const{error:w}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:p,options:m}=r,{data:g,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v}}throw new so("You must provide either an email or phone number.")}catch(p){if(oe(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:p}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Dt});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var n,o,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Sn(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:bw})}catch(u){if(oe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new $t;const{error:l}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:d}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:d,error:p}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new so("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<El:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await qr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=Pl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=yw(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:_r}):await this._useSession(async n=>{var o,l,u;const{data:d,error:p}=n;if(p)throw p;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:_r})})}catch(n){if(oe(n))return J0(n)&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new $t;const d=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await Sn(this.storage,this.storageKey));const{data:g,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:_r});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new $t;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:d}=Cl(r.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new $t;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!at())throw new io("No browser detected.");if(r.error||r.error_description||r.error_code)throw new io(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new io("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new af("No code detected.");const{data:M,error:I}=await this._exchangeCodeForSession(r.code);if(I)throw I;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:g}=r;if(!u||!p||!d||!g)throw new io("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let x=v+w;m&&(x=parseInt(m));const j=x-v;j*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const C=x-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,v);const{data:S,error:N}=await this._getUser(u);if(N)throw N;const U={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:x,refresh_token:d,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:r.type},error:null}}catch(o){if(oe(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{error:u};const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(G0(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=nw(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Sn(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(oe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var d,p,m,g,v;const{data:w,error:x}=u;if(x)throw x;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return at()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(oe(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:p,token:m,access_token:g,nonce:v}=r,w=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dt}),{data:x,error:j}=w;return j?{data:{user:null,session:null},error:j}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new jn}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:j})}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)throw d;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await aw(async l=>(l>0&&await ow(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Dt})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Nl(u)&&Date.now()+d-o<Tn})}catch(o){if(this._debug(n,"error",o),oe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),at()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await qr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await On(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:Pl()}else if(l&&!l.user&&!l.user){const d=await qr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await xr(this.storage,this.storageKey+"-user"),await On(this.storage,this.storageKey,l)):l.user=Pl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<El;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${El}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Nl(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new _o;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new $t;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),oe(u)){const d={data:null,error:u};return Nl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await On(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=hf(l);await On(this.storage,this.storageKey,u)}else{const l=hf(n);await On(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await xr(this.storage,this.storageKey),await xr(this.storage,this.storageKey+"-code-verifier"),await xr(this.storage,this.storageKey+"-user"),this.userStorage&&await xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Tn}ms, refresh threshold is ${du} ticks`),l<=du&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof tm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await Sn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?{data:null,error:u}:await he(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)return{data:null,error:d};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Dw(r.webauthn.credential_response):Uw(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await he(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:m})})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=await he(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Lw(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:$w(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Cl(o.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?{data:null,error:l}:o?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):{data:null,error:new $t}})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return{data:null,error:u};if(!l)return{data:null,error:new $t};const d=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return{data:null,error:u};if(!l)return{data:null,error:new $t};const d=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+H0>l)return o;const{data:u,error:d}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:j,error:C}=await this.getSession();if(C||!j.session)return{data:null,error:C};o=j.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:m}}=Cl(o);n!=null&&n.allowExpired||pw(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:u,header:l,signature:d},error:null}}const v=mw(l.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,d,tw(`${p}.${m}`)))throw new pu("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}}Us.nextInstanceID=0;const Kw=Us;class Gw extends Kw{constructor(r){super(r)}}class Jw{constructor(r,n,o){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const p=B0(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:A0,realtime:L0,auth:Object.assign(Object.assign({},I0),{storageKey:m}),global:R0},v=z0(o??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=U0(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Fv(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new P0(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Av(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:d,flowType:p,lock:m,debug:g},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,flowType:p,lock:m,debug:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new i0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qw=(i,r,n)=>new Jw(i,r,n);function Yw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Yw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xw="https://oawwgrubzeqxpxubjptl.supabase.co",Zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9hd3dncnViemVxeHB4dWJqcHRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NTk2MjMsImV4cCI6MjA3NzUzNTYyM30.MisjM2wo-L8EzYiBI8T39uR6VjAPrkcmakIfUBgPiog",je=Qw(Xw,Zw),sm=A.createContext(void 0);function ex({children:i}){const[r,n]=A.useState(null),[o,l]=A.useState(null),[u,d]=A.useState(!0);A.useEffect(()=>{async function x(){d(!0);try{const{data:{user:C}}=await je.auth.getUser();n(C),C&&await p(C.id)}finally{d(!1)}}x();const{data:{subscription:j}}=je.auth.onAuthStateChange((C,S)=>{n((S==null?void 0:S.user)||null),S!=null&&S.user?p(S.user.id):l(null)});return()=>j.unsubscribe()},[]);async function p(x){try{const{data:j,error:C}=await je.from("user_profiles").select("*").eq("user_id",x).maybeSingle();if(C)throw C;l(j)}catch(j){console.error("Error loading profile:",j),l(null)}}async function m(x,j){try{const{error:C}=await je.auth.signInWithPassword({email:x,password:j});if(C)throw C;return{error:null}}catch(C){return console.error("Sign in error:",C),{error:C}}}async function g(x,j,C){try{const{data:S,error:N}=await je.auth.signUp({email:x,password:j});if(N)throw N;if(!S.user)throw new Error("User creation failed");const U={user_id:S.user.id,email:x,full_name:C.full_name||"",role:C.role||"patient",contact_number:C.contact_number||"",license_number:C.license_number||"",verified:!1},{error:M}=await je.from("user_profiles").insert([U]);if(M)throw console.error("Profile creation error:",M),M;if(C.role==="patient"){const{error:I}=await je.from("patients").insert([{user_id:S.user.id,health_id:`MED${Date.now()}`,full_name:C.full_name||"",date_of_birth:"2000-01-01",contact_number:C.contact_number,email:x}]);I&&console.error("Patient creation error:",I)}return{error:null}}catch(S){return console.error("Sign up error:",S),{error:S}}}async function v(){await je.auth.signOut(),n(null),l(null)}async function w(){r&&await p(r.id)}return c.jsx(sm.Provider,{value:{user:r,profile:o,loading:u,signIn:m,signUp:g,signOut:v,refreshProfile:w},children:i})}function zt(){const i=A.useContext(sm);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(i,r)=>{const n=A.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:p="",children:m,...g},v)=>A.createElement("svg",{ref:v,...tx,width:l,height:l,stroke:o,strokeWidth:d?Number(u)*24/Number(l):u,className:["lucide",`lucide-${rx(i)}`,p].join(" "),...g},[...r.map(([w,x])=>A.createElement(w,x)),...Array.isArray(m)?m:[m]]));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Oe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Oe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Oe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function cx(){Ct();const[i,r]=A.useState(!1),[n,o]=A.useState(""),[l,u]=A.useState([]),[d,p]=A.useState(!1);async function m(){var v;if(!n.trim())return;const g=n;o(""),u(w=>[...w,{role:"user",message:g}]),p(!0);try{const{data:w,error:x}=await je.functions.invoke("ai-chatbot",{body:{message:g}});if(x)throw x;const j=((v=w==null?void 0:w.data)==null?void 0:v.message)||"Sorry, I could not process your request.";u(C=>[...C,{role:"bot",message:j}])}catch(w){console.error("Chat error:",w),u(x=>[...x,{role:"bot",message:"Sorry, there was an error. Please try again."}])}finally{p(!1)}}return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"flex-shrink-0",children:c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"MedAssist"})})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Sr,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Login"}),c.jsx(Sr,{to:"/signup",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Sign Up"})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Comprehensive Healthcare",c.jsx("br",{}),c.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Management Platform"})]}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"MedAssist connects patients, doctors, laboratories, pharmacies, and healthcare administrators in a unified, secure platform for seamless healthcare delivery."}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx(Sr,{to:"/signup",className:"px-8 py-3 text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-lg",children:"Get Started"}),c.jsx(Sr,{to:"/login",className:"px-8 py-3 text-lg font-medium text-blue-600 bg-white hover:bg-gray-50 rounded-lg transition-colors border-2 border-blue-600",children:"Login"})]})]}),c.jsxs("div",{className:"mt-24 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsx(Cn,{title:"Doctor Portal",description:"View patient history, prescribe medicines, manage appointments, and access lab reports.",icon:""}),c.jsx(Cn,{title:"Patient Portal",description:"Access health records, book appointments, view prescriptions, and download lab reports.",icon:""}),c.jsx(Cn,{title:"Lab Services",description:"Upload and manage lab reports linked to patient records with secure access.",icon:""}),c.jsx(Cn,{title:"Pharmacy Access",description:"Verify and dispense e-prescriptions with complete medication tracking.",icon:""}),c.jsx(Cn,{title:"Emergency Services",description:"Ambulance staff can access critical patient data during emergencies.",icon:""}),c.jsx(Cn,{title:"Analytics Dashboard",description:"Health ministry access to national healthcare data and insights.",icon:""})]})]}),i&&c.jsxs("div",{className:"fixed bottom-24 right-8 w-96 bg-white rounded-lg shadow-2xl border border-gray-200",children:[c.jsxs("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-t-lg flex justify-between items-center",children:[c.jsx("h3",{className:"font-semibold",children:"MedAssist Assistant"}),c.jsx("button",{onClick:()=>r(!1),className:"hover:bg-blue-700 rounded p-1",children:c.jsx(Ms,{size:20})})]}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-3",children:[l.length===0&&c.jsxs("div",{className:"text-center text-gray-500 py-8",children:[c.jsx(wo,{size:48,className:"mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"How can I help you today?"})]}),l.map((g,v)=>c.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg ${g.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.message})})},v)),d&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-100 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})})]}),c.jsx("div",{className:"border-t border-gray-200 p-3",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:n,onChange:g=>o(g.target.value),onKeyPress:g=>g.key==="Enter"&&m(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("button",{onClick:m,disabled:d||!n.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(cm,{size:20})})]})})]}),c.jsx("button",{onClick:()=>r(!i),className:"fixed bottom-8 right-8 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center",children:i?c.jsx(Ms,{size:24}):c.jsx(wo,{size:24})}),c.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("p",{className:"text-gray-400",children:"MedAssist - Comprehensive Healthcare Management Platform"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Secure, HIPAA/NDHM Compliant Healthcare Solutions"})]})})]})}function Cn({title:i,description:r,icon:n}){return c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow border border-gray-100",children:[c.jsx("div",{className:"text-4xl mb-4",children:n}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:i}),c.jsx("p",{className:"text-gray-600",children:r})]})}function dx(){const i=Ct(),{signIn:r}=zt(),[n,o]=A.useState(""),[l,u]=A.useState(""),[d,p]=A.useState(!1),[m,g]=A.useState("");async function v(w){w.preventDefault(),g(""),p(!0);try{const{error:x}=await r(n,l);x?g(x.message):i("/portal")}catch(x){g(x.message||"Login failed")}finally{p(!1)}}return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Sr,{to:"/",className:"inline-block",children:c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"MedAssist"})}),c.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Sign in to your account"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Access your healthcare portal"})]}),c.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-8",children:[m&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:m}),c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),c.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:w=>o(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your.email@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsx("input",{id:"password",type:"password",required:!0,value:l,onChange:w=>u(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password"})]}),c.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Signing in...":"Sign in"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx(Sr,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-700",children:"Sign up"})]})})]})]})})}function hx(){const i=Ct(),{signUp:r}=zt(),[n,o]=A.useState({email:"",password:"",confirmPassword:"",full_name:"",contact_number:"",role:"",license_number:""}),[l,u]=A.useState(!1),[d,p]=A.useState("");async function m(v){if(v.preventDefault(),p(""),n.password!==n.confirmPassword){p("Passwords do not match");return}if(!n.role){p("Please select a role");return}u(!0);try{const{confirmPassword:w,...x}=n,{error:j}=await r(n.email,n.password,x);j?p(j.message):i("/login")}catch(w){p(w.message||"Sign up failed")}finally{u(!1)}}function g(v,w){o(x=>({...x,[v]:w}))}return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4 py-12",children:c.jsxs("div",{className:"max-w-2xl w-full",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Sr,{to:"/",className:"inline-block",children:c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"MedAssist"})}),c.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Join the healthcare platform"})]}),c.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-8",children:[d&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:d}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:n.full_name,onChange:v=>g("full_name",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),c.jsx("input",{type:"email",required:!0,value:n.email,onChange:v=>g("email",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your.email@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),c.jsx("input",{type:"tel",required:!0,value:n.contact_number,onChange:v=>g("contact_number",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 234 567 8900"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),c.jsxs("select",{required:!0,value:n.role,onChange:v=>g("role",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select a role"}),c.jsx("option",{value:"patient",children:"Patient"}),c.jsx("option",{value:"doctor",children:"Doctor"}),c.jsx("option",{value:"lab_attendant",children:"Lab Attendant"}),c.jsx("option",{value:"pharmacy",children:"Pharmacy"}),c.jsx("option",{value:"ambulance",children:"Ambulance Staff"}),c.jsx("option",{value:"hospital_admin",children:"Hospital Admin"}),c.jsx("option",{value:"health_ministry",children:"Health Ministry"})]})]}),(n.role==="doctor"||n.role==="lab_attendant"||n.role==="pharmacy")&&c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),c.jsx("input",{type:"text",required:!0,value:n.license_number,onChange:v=>g("license_number",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Professional license number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsx("input",{type:"password",required:!0,value:n.password,onChange:v=>g("password",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a strong password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsx("input",{type:"password",required:!0,value:n.confirmPassword,onChange:v=>g("confirmPassword",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Re-enter your password"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating account...":"Sign up"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(Sr,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Sign in"})]})})]})]})})}var Ol={exports:{}},xf;function fx(){return xf||(xf=1,function(i){var r=function(n){var o=Object.prototype,l=o.hasOwnProperty,u=Object.defineProperty||function(D,P,b){D[P]=b.value},d,p=typeof Symbol=="function"?Symbol:{},m=p.iterator||"@@iterator",g=p.asyncIterator||"@@asyncIterator",v=p.toStringTag||"@@toStringTag";function w(D,P,b){return Object.defineProperty(D,P,{value:b,enumerable:!0,configurable:!0,writable:!0}),D[P]}try{w({},"")}catch{w=function(P,b,L){return P[b]=L}}function x(D,P,b,L){var W=P&&P.prototype instanceof I?P:I,J=Object.create(W.prototype),ue=new pe(L||[]);return u(J,"_invoke",{value:Ue(D,b,ue)}),J}n.wrap=x;function j(D,P,b){try{return{type:"normal",arg:D.call(P,b)}}catch(L){return{type:"throw",arg:L}}}var C="suspendedStart",S="suspendedYield",N="executing",U="completed",M={};function I(){}function H(){}function ee(){}var X={};w(X,m,function(){return this});var ne=Object.getPrototypeOf,de=ne&&ne(ne(B([])));de&&de!==o&&l.call(de,m)&&(X=de);var me=ee.prototype=I.prototype=Object.create(X);H.prototype=ee,u(me,"constructor",{value:ee,configurable:!0}),u(ee,"constructor",{value:H,configurable:!0}),H.displayName=w(ee,v,"GeneratorFunction");function we(D){["next","throw","return"].forEach(function(P){w(D,P,function(b){return this._invoke(P,b)})})}n.isGeneratorFunction=function(D){var P=typeof D=="function"&&D.constructor;return P?P===H||(P.displayName||P.name)==="GeneratorFunction":!1},n.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,ee):(D.__proto__=ee,w(D,v,"GeneratorFunction")),D.prototype=Object.create(me),D},n.awrap=function(D){return{__await:D}};function Re(D,P){function b(J,ue,ce,ge){var O=j(D[J],D,ue);if(O.type==="throw")ge(O.arg);else{var K=O.arg,ie=K.value;return ie&&typeof ie=="object"&&l.call(ie,"__await")?P.resolve(ie.__await).then(function(ke){b("next",ke,ce,ge)},function(ke){b("throw",ke,ce,ge)}):P.resolve(ie).then(function(ke){K.value=ke,ce(K)},function(ke){return b("throw",ke,ce,ge)})}}var L;function W(J,ue){function ce(){return new P(function(ge,O){b(J,ue,ge,O)})}return L=L?L.then(ce,ce):ce()}u(this,"_invoke",{value:W})}we(Re.prototype),w(Re.prototype,g,function(){return this}),n.AsyncIterator=Re,n.async=function(D,P,b,L,W){W===void 0&&(W=Promise);var J=new Re(x(D,P,b,L),W);return n.isGeneratorFunction(P)?J:J.next().then(function(ue){return ue.done?ue.value:J.next()})};function Ue(D,P,b){var L=C;return function(J,ue){if(L===N)throw new Error("Generator is already running");if(L===U){if(J==="throw")throw ue;return z()}for(b.method=J,b.arg=ue;;){var ce=b.delegate;if(ce){var ge=ye(ce,b);if(ge){if(ge===M)continue;return ge}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(L===C)throw L=U,b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);L=N;var O=j(D,P,b);if(O.type==="normal"){if(L=b.done?U:S,O.arg===M)continue;return{value:O.arg,done:b.done}}else O.type==="throw"&&(L=U,b.method="throw",b.arg=O.arg)}}}function ye(D,P){var b=P.method,L=D.iterator[b];if(L===d)return P.delegate=null,b==="throw"&&D.iterator.return&&(P.method="return",P.arg=d,ye(D,P),P.method==="throw")||b!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+b+"' method")),M;var W=j(L,D.iterator,P.arg);if(W.type==="throw")return P.method="throw",P.arg=W.arg,P.delegate=null,M;var J=W.arg;if(!J)return P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,M;if(J.done)P[D.resultName]=J.value,P.next=D.nextLoc,P.method!=="return"&&(P.method="next",P.arg=d);else return J;return P.delegate=null,M}we(me),w(me,v,"Generator"),w(me,m,function(){return this}),w(me,"toString",function(){return"[object Generator]"});function be(D){var P={tryLoc:D[0]};1 in D&&(P.catchLoc=D[1]),2 in D&&(P.finallyLoc=D[2],P.afterLoc=D[3]),this.tryEntries.push(P)}function Ae(D){var P=D.completion||{};P.type="normal",delete P.arg,D.completion=P}function pe(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(be,this),this.reset(!0)}n.keys=function(D){var P=Object(D),b=[];for(var L in P)b.push(L);return b.reverse(),function W(){for(;b.length;){var J=b.pop();if(J in P)return W.value=J,W.done=!1,W}return W.done=!0,W}};function B(D){if(D){var P=D[m];if(P)return P.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var b=-1,L=function W(){for(;++b<D.length;)if(l.call(D,b))return W.value=D[b],W.done=!1,W;return W.value=d,W.done=!0,W};return L.next=L}}return{next:z}}n.values=B;function z(){return{value:d,done:!0}}return pe.prototype={constructor:pe,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(Ae),!D)for(var P in this)P.charAt(0)==="t"&&l.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=d)},stop:function(){this.done=!0;var D=this.tryEntries[0],P=D.completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var P=this;function b(ge,O){return J.type="throw",J.arg=D,P.next=ge,O&&(P.method="next",P.arg=d),!!O}for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L],J=W.completion;if(W.tryLoc==="root")return b("end");if(W.tryLoc<=this.prev){var ue=l.call(W,"catchLoc"),ce=l.call(W,"finallyLoc");if(ue&&ce){if(this.prev<W.catchLoc)return b(W.catchLoc,!0);if(this.prev<W.finallyLoc)return b(W.finallyLoc)}else if(ue){if(this.prev<W.catchLoc)return b(W.catchLoc,!0)}else if(ce){if(this.prev<W.finallyLoc)return b(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(D,P){for(var b=this.tryEntries.length-1;b>=0;--b){var L=this.tryEntries[b];if(L.tryLoc<=this.prev&&l.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var W=L;break}}W&&(D==="break"||D==="continue")&&W.tryLoc<=P&&P<=W.finallyLoc&&(W=null);var J=W?W.completion:{};return J.type=D,J.arg=P,W?(this.method="next",this.next=W.finallyLoc,M):this.complete(J)},complete:function(D,P){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&P&&(this.next=P),M},finish:function(D){for(var P=this.tryEntries.length-1;P>=0;--P){var b=this.tryEntries[P];if(b.finallyLoc===D)return this.complete(b.completion,b.afterLoc),Ae(b),M}},catch:function(D){for(var P=this.tryEntries.length-1;P>=0;--P){var b=this.tryEntries[P];if(b.tryLoc===D){var L=b.completion;if(L.type==="throw"){var W=L.arg;Ae(b)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(D,P,b){return this.delegate={iterator:B(D),resultName:P,nextLoc:b},this.method==="next"&&(this.arg=d),M}},n}(i.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}(Ol)),Ol.exports}var Rl,bf;function Ru(){return bf||(bf=1,Rl=(i,r)=>`${i}-${r}-${Math.random().toString(16).slice(3,8)}`),Rl}var Al,_f;function pm(){if(_f)return Al;_f=1;const i=Ru();let r=0;return Al=({id:n,action:o,payload:l={}})=>{let u=n;return typeof u>"u"&&(u=i("Job",r),r+=1),{id:u,action:o,payload:l}},Al}var Ns={},jf;function Au(){if(jf)return Ns;jf=1;let i=!1;return Ns.logging=i,Ns.setLogging=r=>{i=r},Ns.log=(...r)=>i?console.log.apply(this,r):null,Ns}var Il,Sf;function px(){if(Sf)return Il;Sf=1;const i=pm(),{log:r}=Au(),n=Ru();let o=0;return Il=()=>{const l=n("Scheduler",o),u={},d={};let p=[];o+=1;const m=()=>p.length,g=()=>Object.keys(u).length,v=()=>{if(p.length!==0){const S=Object.keys(u);for(let N=0;N<S.length;N+=1)if(typeof d[S[N]]>"u"){p[0](u[S[N]]);break}}},w=(S,N)=>new Promise((U,M)=>{const I=i({action:S,payload:N});p.push(async H=>{p.shift(),d[H.id]=I;try{U(await H[S].apply(this,[...N,I.id]))}catch(ee){M(ee)}finally{delete d[H.id],v()}}),r(`[${l}]: Add ${I.id} to JobQueue`),r(`[${l}]: JobQueue length=${p.length}`),v()});return{addWorker:S=>(u[S.id]=S,r(`[${l}]: Add ${S.id}`),r(`[${l}]: Number of workers=${g()}`),v(),S.id),addJob:async(S,...N)=>{if(g()===0)throw Error(`[${l}]: You need to have at least one worker before adding jobs`);return w(S,N)},terminate:async()=>{Object.keys(u).forEach(async S=>{await u[S].terminate()}),p=[]},getQueueLen:m,getNumWorkers:g}},Il}function mx(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ll,kf;function gx(){return kf||(kf=1,Ll=i=>{const r={};return typeof WorkerGlobalScope<"u"?r.type="webworker":typeof document=="object"?r.type="browser":typeof process=="object"&&typeof mx=="function"&&(r.type="node"),typeof i>"u"?r:r[i]}),Ll}var $l,Ef;function yx(){if(Ef)return $l;Ef=1;const r=gx()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return $l=n=>{const o={...n};return["corePath","workerPath","langPath"].forEach(l=>{n[l]&&(o[l]=r(o[l]))}),o},$l}var Dl,Nf;function mm(){return Nf||(Nf=1,Dl={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Dl}const vx="6.0.1",wx={version:vx};var Ul,Cf;function xx(){return Cf||(Cf=1,Ul={workerBlobURL:!0,logger:()=>{}}),Ul}var Ml,Pf;function bx(){if(Pf)return Ml;Pf=1;const i=wx.version;return Ml={...xx(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${i}/dist/worker.min.js`},Ml}var zl,Tf;function _x(){return Tf||(Tf=1,zl=({workerPath:i,workerBlobURL:r})=>{let n;if(Blob&&URL&&r){const o=new Blob([`importScripts("${i}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(o))}else n=new Worker(i);return n}),zl}var Bl,Of;function jx(){return Of||(Of=1,Bl=i=>{i.terminate()}),Bl}var Fl,Rf;function Sx(){return Rf||(Rf=1,Fl=(i,r)=>{i.onmessage=({data:n})=>{r(n)}}),Fl}var ql,Af;function kx(){return Af||(Af=1,ql=async(i,r)=>{i.postMessage(r)}),ql}var Wl,If;function Ex(){if(If)return Wl;If=1;const i=n=>new Promise((o,l)=>{const u=new FileReader;u.onload=()=>{o(u.result)},u.onerror=({target:{error:{code:d}}})=>{l(Error(`File could not be read! Code=${d}`))},u.readAsArrayBuffer(n)}),r=async n=>{let o=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?o=atob(n.split(",")[1]).split("").map(l=>l.charCodeAt(0)):o=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(o=await r(n.src)),n.tagName==="VIDEO"&&(o=await r(n.poster)),n.tagName==="CANVAS"&&await new Promise(l=>{n.toBlob(async u=>{o=await i(u),l()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const l=await n.convertToBlob();o=await i(l)}else(n instanceof File||n instanceof Blob)&&(o=await i(n));return new Uint8Array(o)};return Wl=r,Wl}var Vl,Lf;function Nx(){if(Lf)return Vl;Lf=1;const i=bx(),r=_x(),n=jx(),o=Sx(),l=kx(),u=Ex();return Vl={defaultOptions:i,spawnWorker:r,terminateWorker:n,onMessage:o,send:l,loadImage:u},Vl}var Hl,$f;function gm(){if($f)return Hl;$f=1;const i=yx(),r=pm(),{log:n}=Au(),o=Ru(),l=mm(),{defaultOptions:u,spawnWorker:d,terminateWorker:p,onMessage:m,loadImage:g,send:v}=Nx();let w=0;return Hl=async(x="eng",j=l.LSTM_ONLY,C={},S={})=>{const N=o("Worker",w),{logger:U,errorHandler:M,...I}=i({...u,...C}),H={},ee=typeof x=="string"?x.split("+"):x;let X=j,ne=S;const de=[l.DEFAULT,l.LSTM_ONLY].includes(j)&&!I.legacyCore;let me,we;const Re=new Promise((K,ie)=>{we=K,me=ie}),Ue=K=>{me(K.message)};let ye=d(I);ye.onerror=Ue,w+=1;const be=({id:K,action:ie,payload:ke})=>new Promise((st,Qe)=>{n(`[${N}]: Start ${K}, action=${ie}`);const lt=`${ie}-${K}`;H[lt]={resolve:st,reject:Qe},v(ye,{workerId:N,jobId:K,action:ie,payload:ke})}),Ae=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),pe=K=>be(r({id:K,action:"load",payload:{options:{lstmOnly:de,corePath:I.corePath,logging:I.logging}}})),B=(K,ie,ke)=>be(r({id:ke,action:"FS",payload:{method:"writeFile",args:[K,ie]}})),z=(K,ie)=>be(r({id:ie,action:"FS",payload:{method:"readFile",args:[K,{encoding:"utf8"}]}})),D=(K,ie)=>be(r({id:ie,action:"FS",payload:{method:"unlink",args:[K]}})),P=(K,ie,ke)=>be(r({id:ke,action:"FS",payload:{method:K,args:ie}})),b=(K,ie)=>be(r({id:ie,action:"loadLanguage",payload:{langs:K,options:{langPath:I.langPath,dataPath:I.dataPath,cachePath:I.cachePath,cacheMethod:I.cacheMethod,gzip:I.gzip,lstmOnly:[l.DEFAULT,l.LSTM_ONLY].includes(X)&&!I.legacyLang}}})),L=(K,ie,ke,st)=>be(r({id:st,action:"initialize",payload:{langs:K,oem:ie,config:ke}})),W=(K="eng",ie,ke,st)=>{if(de&&[l.TESSERACT_ONLY,l.TESSERACT_LSTM_COMBINED].includes(ie))throw Error("Legacy model requested but code missing.");const Qe=ie||X;X=Qe;const lt=ke||ne;ne=lt;const Qr=(typeof K=="string"?K.split("+"):K).filter(zn=>!ee.includes(zn));return ee.push(...Qr),Qr.length>0?b(Qr,st).then(()=>L(K,Qe,lt,st)):L(K,Qe,lt,st)},J=(K={},ie)=>be(r({id:ie,action:"setParameters",payload:{params:K}})),ue=async(K,ie={},ke={text:!0},st)=>be(r({id:st,action:"recognize",payload:{image:await g(K),options:ie,output:ke}})),ce=async(K,ie)=>{if(de)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return be(r({id:ie,action:"detect",payload:{image:await g(K)}}))},ge=async()=>(ye!==null&&(p(ye),ye=null),Promise.resolve());m(ye,({workerId:K,jobId:ie,status:ke,action:st,data:Qe})=>{const lt=`${st}-${ie}`;if(ke==="resolve")n(`[${K}]: Complete ${ie}`),H[lt].resolve({jobId:ie,data:Qe}),delete H[lt];else if(ke==="reject")if(H[lt].reject(Qe),delete H[lt],st==="load"&&me(Qe),M)M(Qe);else throw Error(Qe);else ke==="progress"&&U({...Qe,userJobId:ie})});const O={id:N,worker:ye,load:Ae,writeText:B,readText:z,removeFile:D,FS:P,reinitialize:W,setParameters:J,recognize:ue,detect:ce,terminate:ge};return pe().then(()=>b(x)).then(()=>L(x,j,S)).then(()=>we(O)).catch(()=>{}),Re},Hl}var Kl,Df;function Cx(){if(Df)return Kl;Df=1;const i=gm();return Kl={recognize:async(o,l,u)=>{const d=await i(l,1,u);return d.recognize(o).finally(async()=>{await d.terminate()})},detect:async(o,l)=>{const u=await i("osd",0,l);return u.detect(o).finally(async()=>{await u.terminate()})}},Kl}var Gl,Uf;function Px(){return Uf||(Uf=1,Gl={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Gl}var Jl,Mf;function Tx(){return Mf||(Mf=1,Jl={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Jl}var Ql,zf;function Ox(){if(zf)return Ql;zf=1,fx();const i=px(),r=gm(),n=Cx(),o=Px(),l=mm(),u=Tx(),{setLogging:d}=Au();return Ql={languages:o,OEM:l,PSM:u,createScheduler:i,createWorker:r,setLogging:d,...n},Ql}var Rx=Ox();const Ax=mu(Rx);function ym({onTextExtracted:i,onImageSelected:r}){const[n,o]=A.useState(null),[l,u]=A.useState(!1),[d,p]=A.useState(0),[m,g]=A.useState(!1),[v,w]=A.useState(null);async function x(C){var U;const S=(U=C.target.files)==null?void 0:U[0];if(!S)return;g(!1),w(null),p(0);const N=new FileReader;N.onload=async M=>{var H;const I=(H=M.target)==null?void 0:H.result;o(I),r(I,S.name),await j(I)},N.readAsDataURL(S)}async function j(C){u(!0),w(null);try{const N=(await Ax.recognize(C,"eng",{logger:U=>{U.status==="recognizing text"&&p(Math.round(U.progress*100))}})).data.text.trim();N?(i(N),g(!0)):(w("No text detected. Please enter manually below."),i("No text detected. Please enter prescription details manually."))}catch(S){console.error("OCR Error:",S),w("OCR processing failed. Please enter text manually."),i("Please enter prescription details manually.")}finally{u(!1),p(0)}}return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-green-400 transition-colors",children:c.jsxs("div",{className:"text-center",children:[c.jsx(dm,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("div",{className:"mt-4",children:c.jsxs("label",{htmlFor:"prescription-upload",className:"cursor-pointer",children:[c.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Upload prescription image"}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, or JPEG  Clear text for best OCR results"}),c.jsx("input",{id:"prescription-upload",type:"file",className:"sr-only",accept:"image/png,image/jpeg,image/jpg",onChange:x,disabled:l}),c.jsx("span",{className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Processing...":"Select Image"})]})})]})}),l&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ix,{className:"h-5 w-5 text-blue-600 animate-spin"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Processing image with OCR..."}),c.jsx("div",{className:"mt-2 w-full bg-blue-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),c.jsxs("p",{className:"mt-1 text-xs text-blue-600",children:[d,"% complete"]})]})]})}),m&&!l&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(lm,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-green-900",children:"Text extracted successfully!"}),c.jsx("p",{className:"mt-1 text-xs text-green-700",children:"Please review and edit the extracted text below. OCR may require corrections."})]})]})}),v&&!l&&c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(am,{className:"h-5 w-5 text-amber-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-amber-900",children:v}),c.jsx("p",{className:"mt-1 text-xs text-amber-700",children:"You can still enter the prescription details manually in the text field below."})]})]})}),n&&!l&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Ou,{className:"h-5 w-5 text-gray-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Image uploaded"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m?"Text extracted. Review below and make any necessary corrections.":"Enter prescription details in the text field below."})]})]}),c.jsx("div",{className:"mt-3",children:c.jsx("img",{src:n,alt:"Prescription preview",className:"max-h-48 rounded border border-gray-300 mx-auto"})})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Tips for best OCR results:"}),c.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"Use clear, well-lit images"}),c.jsx("li",{children:"Ensure text is straight and in focus"}),c.jsx("li",{children:"Avoid shadows and glare"}),c.jsx("li",{children:"Higher resolution images work better"})]})]})]})}function Bf(){const{profile:i,signOut:r,user:n}=zt(),o=Ct(),[l,u]=A.useState("patients"),[d,p]=A.useState([]),[m,g]=A.useState([]),[v,w]=A.useState([]),[x,j]=A.useState(""),[C,S]=A.useState(!1),[N,U]=A.useState(!1),[M,I]=A.useState(!1),[H,ee]=A.useState(null),[X,ne]=A.useState(""),[de,me]=A.useState({patientId:"",prescriptionText:"",validUntil:"",notes:"",imageData:"",fileName:""}),[we,Re]=A.useState({patientId:"",chiefComplaint:"",diagnosis:"",treatmentPlan:"",notes:"",vitalSigns:{bloodPressure:"",heartRate:"",temperature:"",respiratoryRate:""}});A.useEffect(()=>{Ue()},[l]);async function Ue(){S(!0);try{if(l==="patients"){const{data:B,error:z}=await je.from("patients").select("*").order("created_at",{ascending:!1}).limit(50);!z&&B&&p(B)}else if(l==="appointments"){const{data:B,error:z}=await je.from("appointments").select("*").eq("doctor_id",(n==null?void 0:n.id)||"").order("appointment_datetime",{ascending:!0});!z&&B&&g(B)}else if(l==="prescriptions"){const{data:B,error:z}=await je.from("prescriptions").select("*").eq("doctor_id",(n==null?void 0:n.id)||"").order("date_issued",{ascending:!1}).limit(50);!z&&B&&w(B)}}catch(B){console.error("Error loading data:",B)}finally{S(!1)}}async function ye(B){B.preventDefault(),S(!0),ne("");try{const{error:z}=await je.from("prescriptions").insert([{patient_id:de.patientId,doctor_id:n==null?void 0:n.id,prescription_text:de.prescriptionText,valid_until:de.validUntil||null,notes:de.notes,status:"active"}]);if(z)throw z;ne("Prescription created successfully!"),U(!1),me({patientId:"",prescriptionText:"",validUntil:"",notes:"",imageData:"",fileName:""}),Ue(),setTimeout(()=>ne(""),3e3)}catch(z){ne("Error: "+z.message)}finally{S(!1)}}async function be(B){B.preventDefault(),S(!0),ne("");try{const{error:z}=await je.from("medical_records").insert([{patient_id:we.patientId,doctor_id:n==null?void 0:n.id,visit_date:new Date().toISOString(),chief_complaint:we.chiefComplaint,diagnosis:we.diagnosis,treatment_plan:we.treatmentPlan,notes:we.notes,vital_signs:we.vitalSigns,status:"active"}]);if(z)throw z;ne("Medical record created successfully!"),I(!1),Re({patientId:"",chiefComplaint:"",diagnosis:"",treatmentPlan:"",notes:"",vitalSigns:{bloodPressure:"",heartRate:"",temperature:"",respiratoryRate:""}}),setTimeout(()=>ne(""),3e3)}catch(z){ne("Error: "+z.message)}finally{S(!1)}}async function Ae(){await r(),o("/")}const pe=d.filter(B=>B.full_name.toLowerCase().includes(x.toLowerCase())||B.health_id.toLowerCase().includes(x.toLowerCase()));return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"MedAssist - Doctor Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-gray-700",children:["Dr. ",i==null?void 0:i.full_name]}),c.jsxs("button",{onClick:Ae,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[X&&c.jsx("div",{className:`mb-6 p-4 rounded-lg ${X.includes("successfully")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:X}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[c.jsxs(oo,{active:l==="patients",onClick:()=>u("patients"),children:[c.jsx(hm,{size:18}),"Patients"]}),c.jsxs(oo,{active:l==="appointments",onClick:()=>u("appointments"),children:[c.jsx(Tu,{size:18}),"Appointments"]}),c.jsxs(oo,{active:l==="prescriptions",onClick:()=>u("prescriptions"),children:[c.jsx(um,{size:18}),"Prescriptions"]}),c.jsxs(oo,{active:l==="records",onClick:()=>u("records"),children:[c.jsx(Ou,{size:18}),"Medical Records"]})]})}),l==="patients"&&c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6 flex gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(jo,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search patients by name or health ID...",value:x,onChange:B=>j(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(As,{size:20}),"New Prescription"]}),c.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(As,{size:20}),"New Record"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Health ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blood Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allergies"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:pe.map(B=>c.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ee(B),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.health_id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.full_name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.blood_type||"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.contact_number||"N/A"}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:B.allergies||"None"})]},B.id))})]})})]}),l==="prescriptions"&&c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"My Prescriptions"}),c.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(As,{size:18}),"New"]})]}),c.jsxs("div",{className:"divide-y divide-gray-200",children:[v.map(B=>c.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Patient ID: ",B.patient_id.substring(0,8),"..."]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.prescription_text}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Issued: ",new Date(B.date_issued).toLocaleDateString()]}),c.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${B.status==="active"?"bg-green-100 text-green-800":B.status==="dispensed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:B.status})]})})},B.id)),v.length===0&&c.jsx("p",{className:"px-6 py-8 text-gray-500 text-center",children:"No prescriptions created yet"})]})]}),l==="appointments"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Appointments"}),c.jsxs("div",{className:"space-y-4",children:[m.map(B=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Patient ID: ",B.patient_id.substring(0,8),"..."]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(B.appointment_datetime).toLocaleString()}),c.jsx("p",{className:"text-sm text-gray-600",children:B.chief_complaint||"General consultation"})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B.status==="scheduled"?"bg-blue-100 text-blue-800":B.status==="confirmed"?"bg-green-100 text-green-800":B.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:B.status})]})},B.id)),m.length===0&&c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No appointments scheduled"})]})]})]}),N&&c.jsx(Ff,{title:"Create New Prescription",onClose:()=>U(!1),children:c.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient"}),c.jsxs("select",{required:!0,value:de.patientId,onChange:B=>me({...de,patientId:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select patient"}),d.map(B=>c.jsxs("option",{value:B.id,children:[B.full_name," (",B.health_id,")"]},B.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Prescription Image (Optional)"}),c.jsx(ym,{onTextExtracted:B=>me({...de,prescriptionText:B}),onImageSelected:(B,z)=>me({...de,imageData:B,fileName:z})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prescription Details"}),c.jsx("textarea",{required:!0,rows:4,value:de.prescriptionText,onChange:B=>me({...de,prescriptionText:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter prescription details (or upload image above for automatic extraction)..."}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Review and edit the extracted text above. OCR may require manual corrections."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until"}),c.jsx("input",{type:"date",value:de.validUntil,onChange:B=>me({...de,validUntil:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{rows:2,value:de.notes,onChange:B=>me({...de,notes:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes..."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:C,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:C?"Creating...":"Create Prescription"}),c.jsx("button",{type:"button",onClick:()=>U(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})}),M&&c.jsx(Ff,{title:"Create Medical Record",onClose:()=>I(!1),children:c.jsxs("form",{onSubmit:be,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient"}),c.jsxs("select",{required:!0,value:we.patientId,onChange:B=>Re({...we,patientId:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select patient"}),d.map(B=>c.jsxs("option",{value:B.id,children:[B.full_name," (",B.health_id,")"]},B.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Complaint"}),c.jsx("input",{type:"text",required:!0,value:we.chiefComplaint,onChange:B=>Re({...we,chiefComplaint:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diagnosis"}),c.jsx("textarea",{required:!0,rows:3,value:we.diagnosis,onChange:B=>Re({...we,diagnosis:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Treatment Plan"}),c.jsx("textarea",{required:!0,rows:3,value:we.treatmentPlan,onChange:B=>Re({...we,treatmentPlan:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:C,className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:C?"Creating...":"Create Record"}),c.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})})]})}function oo({active:i,onClick:r,children:n}){return c.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium text-sm transition-colors ${i?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n})}function Ff({title:i,onClose:r,children:n}){return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold",children:i}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Ms,{size:24})})]}),c.jsx("div",{className:"p-6",children:n})]})})}function Ix({isOpen:i,onClose:r}){const[n,o]=A.useState([{id:"1",text:"Hello! I'm your MedAssist virtual assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[l,u]=A.useState(""),[d,p]=A.useState(!1),m=A.useRef(null);A.useEffect(()=>{g()},[n]);const g=()=>{var x;(x=m.current)==null||x.scrollIntoView({behavior:"smooth"})},v=x=>{const j=x.toLowerCase();return j.includes("appointment")||j.includes("book")||j.includes("schedule")?j.includes("how")||j.includes("can i")?'To book an appointment: 1) Go to the Appointments tab, 2) Click "Book New Appointment", 3) Select your hospital, 4) Choose a doctor, 5) Pick a date and time, 6) Enter the reason for your visit, and 7) Submit the form.':j.includes("cancel")||j.includes("reschedule")?"To cancel or reschedule an appointment, please contact your doctor directly or call the hospital. You can find their contact information in your appointment details.":"You can book appointments through the Appointments tab. Select a hospital, choose a doctor, and pick your preferred date and time.":j.includes("profile")||j.includes("information")||j.includes("update")?j.includes("edit")||j.includes("change")||j.includes("update")?'To update your profile: 1) Go to the Profile tab, 2) Click "Edit Profile", 3) Make your changes, and 4) Click "Save Changes". You can update your contact info, address, allergies, and emergency contact.':'You can view and edit your profile information in the Profile tab. Click the "Edit Profile" button to make changes.':j.includes("prescription")||j.includes("medication")||j.includes("medicine")?j.includes("scan")||j.includes("upload")?'To upload a prescription: 1) Go to the Prescriptions tab, 2) Click "Scan Prescription", 3) Upload an image or enter the prescription text, and 4) Submit. Your doctor will verify it.':j.includes("refill")?"For prescription refills, please contact your doctor directly or schedule an appointment to discuss your medication needs.":'You can view your prescriptions in the Prescriptions tab and upload new ones using the "Scan Prescription" feature.':j.includes("lab")||j.includes("test")||j.includes("results")?"Your lab reports are available in the Lab Reports tab. You can view and download them there. If you need to schedule a new test, please book an appointment with your doctor.":j.includes("health id")||j.includes("patient id")?"Your Health ID is displayed on your Profile page. You can find it in the Overview section as well.":j.includes("emergency")||j.includes("urgent")?" For medical emergencies, please call 911 immediately or go to the nearest emergency room. This chatbot is for non-urgent inquiries only.":j.includes("contact")||j.includes("support")||j.includes("help")?j.includes("doctor")||j.includes("hospital")?"You can find your doctor's contact information in your appointment details or by visiting the hospital website.":"For technical support, please email support@medassist.com or call our helpline at 1-800-MEDASSIST.":j.includes("hello")||j.includes("hi")||j.includes("hey")?"Hello! How can I assist you with your healthcare needs today?":j.includes("thank")||j.includes("thanks")?"You're welcome! Is there anything else I can help you with?":j.includes("hours")||j.includes("open")||j.includes("available")?"Our patient portal is available 24/7. Hospital hours vary by location. Please contact your specific hospital for their operating hours.":`I can help you with:
 Booking appointments
 Updating your profile
 Uploading prescriptions
 Viewing lab reports
 General questions about using MedAssist

What would you like to know more about?`},w=x=>{if(x.preventDefault(),!l.trim())return;const j={id:Date.now().toString(),text:l,sender:"user",timestamp:new Date};o(C=>[...C,j]),u(""),setTimeout(()=>{const C={id:(Date.now()+1).toString(),text:v(l),sender:"bot",timestamp:new Date};o(S=>[...S,C])},500)};return i?c.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:c.jsxs("div",{className:`bg-white rounded-lg shadow-2xl border border-gray-200 transition-all duration-300 ${d?"w-80":"w-96"}`,children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-3 rounded-t-lg flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wo,{size:20}),c.jsx("h3",{className:"font-semibold",children:"MedAssist Assistant"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>p(!d),className:"hover:bg-green-800 p-1 rounded transition-colors",children:c.jsx(ox,{size:18})}),c.jsx("button",{onClick:r,className:"hover:bg-green-800 p-1 rounded transition-colors",children:c.jsx(Ms,{size:18})})]})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[n.map(x=>c.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[75%] px-4 py-2 rounded-lg ${x.sender==="user"?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:[c.jsx("p",{className:"text-sm whitespace-pre-line",children:x.text}),c.jsx("p",{className:`text-xs mt-1 ${x.sender==="user"?"text-green-100":"text-gray-400"}`,children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},x.id)),c.jsx("div",{ref:m})]}),c.jsx("form",{onSubmit:w,className:"p-4 border-t border-gray-200 bg-white rounded-b-lg",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:x=>u(x.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"}),c.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(cm,{size:18})})]})})]}),d&&c.jsx("div",{className:"p-4 text-center text-sm text-gray-600",children:"Click to expand chat"})]})}):null}function qf(){const{profile:i,user:r,signOut:n}=zt(),o=Ct(),[l,u]=A.useState("overview"),[d,p]=A.useState(null),[m,g]=A.useState([]),[v,w]=A.useState([]),[x,j]=A.useState([]),[C,S]=A.useState([]),[N,U]=A.useState([]),[M,I]=A.useState(!1),[H,ee]=A.useState(!1),[X,ne]=A.useState(!1),[de,me]=A.useState(!1),[we,Re]=A.useState(!1),[Ue,ye]=A.useState(""),[be,Ae]=A.useState({imageData:"",fileName:"",prescriptionText:""}),[pe,B]=A.useState({contact_number:"",email:"",address:"",city:"",state:"",postal_code:"",allergies:"",chronic_conditions:"",emergency_contact_name:"",emergency_contact_number:"",emergency_contact_relation:""}),[z,D]=A.useState({hospitalId:"",doctorId:"",appointmentDate:"",appointmentTime:"",chiefComplaint:""});A.useEffect(()=>{P(),b()},[r]),A.useEffect(()=>{d&&W()},[l,d]),A.useEffect(()=>{z.hospitalId&&L(z.hospitalId)},[z.hospitalId]);async function P(){if(r)try{const{data:O,error:K}=await je.from("patients").select("*").eq("user_id",r.id).maybeSingle();!K&&O&&(p(O),B({contact_number:O.contact_number||"",email:O.email||"",address:O.address||"",city:O.city||"",state:O.state||"",postal_code:O.postal_code||"",allergies:O.allergies||"",chronic_conditions:O.chronic_conditions||"",emergency_contact_name:O.emergency_contact_name||"",emergency_contact_number:O.emergency_contact_number||"",emergency_contact_relation:O.emergency_contact_relation||""}))}catch(O){console.error("Error loading patient data:",O)}}async function b(){try{const{data:O,error:K}=await je.from("hospitals").select("*").order("name",{ascending:!0});!K&&O&&S(O)}catch(O){console.error("Error loading hospitals:",O)}}async function L(O){try{const{data:K,error:ie}=await je.from("user_profiles").select("*").eq("role","doctor").eq("hospital_id",O);!ie&&K&&U(K)}catch(K){console.error("Error loading doctors:",K)}}async function W(){if(d){I(!0);try{if(l==="prescriptions"){const{data:O,error:K}=await je.from("prescriptions").select("*").eq("patient_id",d.id).order("date_issued",{ascending:!1});!K&&O&&g(O)}else if(l==="lab-reports"){const{data:O,error:K}=await je.from("lab_reports").select("*").eq("patient_id",d.id).order("test_date",{ascending:!1});!K&&O&&w(O)}else if(l==="appointments"){const{data:O,error:K}=await je.from("appointments").select("*").eq("patient_id",d.id).order("appointment_datetime",{ascending:!1});!K&&O&&j(O)}}catch(O){console.error("Error loading data:",O)}finally{I(!1)}}}async function J(O){if(O.preventDefault(),!!d){I(!0),ye("");try{const K=`${z.appointmentDate}T${z.appointmentTime}:00`,{error:ie}=await je.from("appointments").insert([{patient_id:d.id,doctor_id:z.doctorId,hospital_id:z.hospitalId,appointment_date:z.appointmentDate,appointment_time:z.appointmentTime,appointment_datetime:K,chief_complaint:z.chiefComplaint,status:"scheduled"}]);if(ie)throw ie;ye("Appointment booked successfully!"),ee(!1),D({hospitalId:"",doctorId:"",appointmentDate:"",appointmentTime:"",chiefComplaint:""}),W(),setTimeout(()=>ye(""),3e3)}catch(K){ye("Error booking appointment: "+K.message)}finally{I(!1)}}}async function ue(O){if(O.preventDefault(),!!d){I(!0),ye("");try{const{error:K}=await je.from("patients").update(pe).eq("id",d.id);if(K)throw K;ye("Profile updated successfully!"),me(!1),P(),setTimeout(()=>ye(""),3e3)}catch(K){ye("Error updating profile: "+K.message)}finally{I(!1)}}}async function ce(O){if(O.preventDefault(),!!d){I(!0),ye("");try{const{error:K}=await je.from("prescriptions").insert([{patient_id:d.id,prescription_text:be.prescriptionText,status:"pending_verification",notes:"Self-scanned by patient - requires doctor verification"}]);if(K)throw K;ye("Prescription saved! It will be verified by your doctor."),ne(!1),Ae({imageData:"",fileName:"",prescriptionText:""}),W(),setTimeout(()=>ye(""),5e3)}catch(K){ye("Error saving prescription: "+K.message)}finally{I(!1)}}}async function ge(){await n(),o("/")}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-green-600",children:"MedAssist - Patient Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Ue&&c.jsx("div",{className:`mb-6 p-4 rounded-lg ${Ue.includes("successfully")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:Ue}),d&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Health Profile"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Health ID"}),c.jsx("p",{className:"font-medium",children:d.health_id})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Blood Type"}),c.jsx("p",{className:"font-medium",children:d.blood_type||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Date of Birth"}),c.jsx("p",{className:"font-medium",children:new Date(d.date_of_birth).toLocaleDateString()})]})]}),d.allergies&&c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:["Allergies: ",d.allergies]})})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[c.jsxs(Cs,{active:l==="overview",onClick:()=>u("overview"),children:[c.jsx(im,{size:18}),"Overview"]}),c.jsxs(Cs,{active:l==="prescriptions",onClick:()=>u("prescriptions"),children:[c.jsx(um,{size:18}),"Prescriptions"]}),c.jsxs(Cs,{active:l==="lab-reports",onClick:()=>u("lab-reports"),children:[c.jsx(Ou,{size:18}),"Lab Reports"]}),c.jsxs(Cs,{active:l==="appointments",onClick:()=>u("appointments"),children:[c.jsx(Tu,{size:18}),"Appointments"]}),c.jsxs(Cs,{active:l==="profile",onClick:()=>u("profile"),children:[c.jsx(hm,{size:18}),"Profile"]})]})}),l==="overview"&&c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsx(Yl,{title:"Prescriptions",value:m.length.toString(),icon:"",color:"blue"}),c.jsx(Yl,{title:"Lab Reports",value:v.length.toString(),icon:"",color:"green"}),c.jsx(Yl,{title:"Appointments",value:x.length.toString(),icon:"",color:"purple"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("button",{onClick:()=>ee(!0),className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-lg font-medium",children:[c.jsx(As,{size:24}),"Book New Appointment"]})})]}),l==="prescriptions"&&c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"My Prescriptions"}),c.jsxs("button",{onClick:()=>ne(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(sx,{size:18}),"Scan Prescription"]})]}),c.jsxs("div",{className:"divide-y divide-gray-200",children:[m.map(O=>c.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Issued: ",new Date(O.date_issued).toLocaleDateString()]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.prescription_text}),c.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${O.status==="active"?"bg-green-100 text-green-800":O.status==="dispensed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.status})]}),O.image_url&&c.jsxs("a",{href:O.image_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[c.jsx(wf,{size:16}),"View"]})]})},O.id)),m.length===0&&c.jsx("p",{className:"px-6 py-8 text-gray-500 text-center",children:"No prescriptions available"})]})]}),l==="lab-reports"&&c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold",children:"My Lab Reports"})}),c.jsxs("div",{className:"divide-y divide-gray-200",children:[v.map(O=>c.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:O.test_name}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Test Date: ",new Date(O.test_date).toLocaleDateString()]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Lab: ",O.lab_name||"Hospital Lab"]}),O.result_summary&&c.jsx("p",{className:"text-sm text-gray-700 mt-2",children:O.result_summary})]}),O.report_url&&c.jsxs("a",{href:O.report_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[c.jsx(wf,{size:16}),"Download"]})]})},O.id)),v.length===0&&c.jsx("p",{className:"px-6 py-8 text-gray-500 text-center",children:"No lab reports available"})]})]}),l==="appointments"&&c.jsxs("div",{children:[c.jsx("div",{className:"mb-4",children:c.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(As,{size:20}),"Book New Appointment"]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold",children:"My Appointments"})}),c.jsxs("div",{className:"divide-y divide-gray-200",children:[x.map(O=>c.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:new Date(O.appointment_datetime).toLocaleString()}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Doctor ID: ",O.doctor_id.substring(0,8),"..."]}),c.jsx("p",{className:"text-sm text-gray-600",children:O.chief_complaint||"General consultation"}),c.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${O.status==="scheduled"?"bg-blue-100 text-blue-800":O.status==="confirmed"?"bg-green-100 text-green-800":O.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:O.status})]})})},O.id)),x.length===0&&c.jsx("p",{className:"px-6 py-8 text-gray-500 text-center",children:"No appointments scheduled"})]})]})]}),l==="profile"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"My Profile"}),d&&!de&&c.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(ax,{size:18}),"Edit Profile"]})]}),d&&!de&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.full_name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health ID"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.health_id})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),c.jsx("p",{className:"text-gray-900 font-medium",children:new Date(d.date_of_birth).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.gender||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.blood_type||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.contact_number||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.email||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City, State"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.city&&d.state?`${d.city}, ${d.state}`:"Not specified"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("p",{className:"text-gray-900 font-medium",children:d.address||"Not specified"})]})]}),(d.allergies||d.chronic_conditions)&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[d.allergies&&c.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"Allergies"}),c.jsx("p",{className:"text-sm text-yellow-800",children:d.allergies})]}),d.chronic_conditions&&c.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Chronic Conditions"}),c.jsx("p",{className:"text-sm text-blue-800",children:d.chronic_conditions})]})]}),(d.emergency_contact_name||d.emergency_contact_number)&&c.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-3",children:"Emergency Contact"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[d.emergency_contact_name&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Name"}),c.jsx("p",{className:"text-sm text-red-800",children:d.emergency_contact_name})]}),d.emergency_contact_number&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Phone"}),c.jsx("p",{className:"text-sm text-red-800",children:d.emergency_contact_number})]}),d.emergency_contact_relation&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Relation"}),c.jsx("p",{className:"text-sm text-red-800",children:d.emergency_contact_relation})]})]})]}),i&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Account Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Email"}),c.jsx("p",{className:"text-gray-900 font-medium",children:i.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),c.jsx("p",{className:"text-gray-900 font-medium capitalize",children:i.role})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Status"}),c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${i.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.verified?"Verified":"Pending Verification"})]})]})]})]}),d&&de&&c.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),c.jsx("input",{type:"tel",value:pe.contact_number,onChange:O=>B({...pe,contact_number:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:pe.email,onChange:O=>B({...pe,email:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",value:pe.address,onChange:O=>B({...pe,address:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),c.jsx("input",{type:"text",value:pe.city,onChange:O=>B({...pe,city:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),c.jsx("input",{type:"text",value:pe.state,onChange:O=>B({...pe,state:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),c.jsx("input",{type:"text",value:pe.postal_code,onChange:O=>B({...pe,postal_code:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),c.jsx("textarea",{value:pe.allergies,onChange:O=>B({...pe,allergies:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"List any allergies..."})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chronic Conditions"}),c.jsx("textarea",{value:pe.chronic_conditions,onChange:O=>B({...pe,chronic_conditions:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"List any chronic conditions..."})]}),c.jsx("div",{className:"md:col-span-2 pt-4 border-t border-gray-200",children:c.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Emergency Contact"})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),c.jsx("input",{type:"text",value:pe.emergency_contact_name,onChange:O=>B({...pe,emergency_contact_name:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:pe.emergency_contact_number,onChange:O=>B({...pe,emergency_contact_number:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relation"}),c.jsx("input",{type:"text",value:pe.emergency_contact_relation,onChange:O=>B({...pe,emergency_contact_relation:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Spouse, Parent, Sibling"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsxs("button",{type:"submit",disabled:M,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[c.jsx(lx,{size:18}),"Save Changes"]}),c.jsx("button",{type:"button",onClick:()=>me(!1),disabled:M,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]}),!d&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:c.jsx("p",{children:"Loading profile information..."})})]})]}),H&&c.jsx(Wf,{title:"Book Appointment",onClose:()=>ee(!1),children:c.jsxs("form",{onSubmit:J,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hospital"}),c.jsxs("select",{required:!0,value:z.hospitalId,onChange:O=>D({...z,hospitalId:O.target.value,doctorId:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"",children:"Select hospital"}),C.map(O=>c.jsxs("option",{value:O.id,children:[O.name," - ",O.city]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor"}),c.jsxs("select",{required:!0,disabled:!z.hospitalId,value:z.doctorId,onChange:O=>D({...z,doctorId:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100",children:[c.jsx("option",{value:"",children:"Select doctor"}),N.map(O=>c.jsx("option",{value:O.user_id,children:O.full_name},O.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),c.jsx("input",{type:"date",required:!0,min:new Date().toISOString().split("T")[0],value:z.appointmentDate,onChange:O=>D({...z,appointmentDate:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),c.jsx("input",{type:"time",required:!0,value:z.appointmentTime,onChange:O=>D({...z,appointmentTime:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Complaint / Reason"}),c.jsx("textarea",{required:!0,rows:3,value:z.chiefComplaint,onChange:O=>D({...z,chiefComplaint:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Describe your symptoms or reason for visit..."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:M,className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:M?"Booking...":"Book Appointment"}),c.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})}),X&&c.jsx(Wf,{title:"Scan Prescription",onClose:()=>ne(!1),children:c.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(ym,{onTextExtracted:O=>Ae({...be,prescriptionText:O}),onImageSelected:(O,K)=>Ae({...be,imageData:O,fileName:K})})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prescription Details"}),c.jsx("textarea",{required:!0,rows:6,value:be.prescriptionText,onChange:O=>Ae({...be,prescriptionText:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter prescription details or upload image above for automatic extraction..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Note: This prescription will be saved and sent to your doctor for verification before it becomes active."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:M,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:M?"Saving...":"Save Prescription"}),c.jsx("button",{type:"button",onClick:()=>ne(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})}),!we&&c.jsx("button",{onClick:()=>Re(!0),className:"fixed bottom-4 right-4 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition-all hover:scale-110 z-40","aria-label":"Open chat",children:c.jsx(wo,{size:24})}),c.jsx(Ix,{isOpen:we,onClose:()=>Re(!1)})]})}function Cs({active:i,onClick:r,children:n}){return c.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium text-sm transition-colors ${i?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n})}function Yl({title:i,value:r,icon:n,color:o}){const l={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"};return c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:i}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:r})]}),c.jsx("div",{className:`text-4xl p-3 rounded-lg ${l[o]}`,children:n})]})})}function Wf({title:i,onClose:r,children:n}){return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold",children:i}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Ms,{size:24})})]}),c.jsx("div",{className:"p-6",children:n})]})})}function Vf(){const{profile:i,signOut:r}=zt(),n=Ct(),[o,l]=A.useState(""),[u,d]=A.useState(""),[p,m]=A.useState(""),[g,v]=A.useState(""),[w,x]=A.useState(null),[j,C]=A.useState(!1),[S,N]=A.useState("");async function U(I){if(I.preventDefault(),!w||!o||!u){N("Please fill all required fields");return}C(!0),N("");try{const{data:H,error:ee}=await je.from("patients").select("id").eq("health_id",o).maybeSingle();if(ee||!H){N("Patient not found with this Health ID"),C(!1);return}const X=new FileReader;X.onloadend=async()=>{try{const ne=X.result,{data:de,error:me}=await je.functions.invoke("lab-report-upload",{body:{fileData:ne,fileName:w.name,patientId:H.id,testName:u,testType:p,resultSummary:g,hospitalId:i==null?void 0:i.hospital_id,labName:"Hospital Laboratory"}});if(me)throw me;N("Lab report uploaded successfully!"),x(null),l(""),d(""),m(""),v("")}catch(ne){console.error("Upload error:",ne),N("Upload failed: "+ne.message)}finally{C(!1)}},X.readAsDataURL(w)}catch(H){N("Error: "+H.message),C(!1)}}async function M(){await r(),n("/")}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-purple-600",children:"MedAssist - Lab Attendant Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(dm,{className:"text-purple-600",size:28}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upload Lab Report"})]}),S&&c.jsx("div",{className:`mb-6 p-4 rounded-lg ${S.includes("successfully")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:S}),c.jsxs("form",{onSubmit:U,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Health ID *"}),c.jsxs("div",{className:"relative",children:[c.jsx(jo,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",required:!0,value:o,onChange:I=>l(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter patient's Health ID"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Name *"}),c.jsx("input",{type:"text",required:!0,value:u,onChange:I=>d(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Complete Blood Count"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Type"}),c.jsxs("select",{value:p,onChange:I=>m(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[c.jsx("option",{value:"",children:"Select type"}),c.jsx("option",{value:"Blood Test",children:"Blood Test"}),c.jsx("option",{value:"Urine Test",children:"Urine Test"}),c.jsx("option",{value:"X-Ray",children:"X-Ray"}),c.jsx("option",{value:"MRI",children:"MRI"}),c.jsx("option",{value:"CT Scan",children:"CT Scan"}),c.jsx("option",{value:"Ultrasound",children:"Ultrasound"}),c.jsx("option",{value:"ECG",children:"ECG"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Result Summary"}),c.jsx("textarea",{value:g,onChange:I=>v(I.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Brief summary of test results..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lab Report File * (PDF or Image)"}),c.jsx("input",{type:"file",required:!0,accept:".pdf,image/*",onChange:I=>{var H;return x(((H=I.target.files)==null?void 0:H[0])||null)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),w&&c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",w.name]})]}),c.jsx("button",{type:"submit",disabled:j,className:"w-full py-3 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Uploading...":"Upload Lab Report"})]})]})})]})}function Hf(){const{profile:i,signOut:r}=zt(),n=Ct(),[o,l]=A.useState([]),[u,d]=A.useState(""),[p,m]=A.useState(!1),[g,v]=A.useState("");A.useEffect(()=>{w()},[]);async function w(){m(!0);try{const{data:S,error:N}=await je.from("prescriptions").select("*").eq("status","active").order("date_issued",{ascending:!1}).limit(100);!N&&S&&l(S)}catch(S){console.error("Error loading prescriptions:",S)}finally{m(!1)}}async function x(S){try{const{error:N}=await je.from("prescriptions").update({status:"dispensed",pharmacy_dispensed_id:i==null?void 0:i.user_id,dispensed_at:new Date().toISOString()}).eq("id",S);if(N)throw N;v("Prescription dispensed successfully!"),w(),setTimeout(()=>v(""),3e3)}catch(N){v("Error: "+N.message)}}async function j(){await r(),n("/")}const C=o.filter(S=>S.id.toLowerCase().includes(u.toLowerCase())||S.patient_id.toLowerCase().includes(u.toLowerCase()));return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"MedAssist - Pharmacy Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Active E-Prescriptions"}),g&&c.jsx("div",{className:`mb-4 p-4 rounded-lg ${g.includes("successfully")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:g}),c.jsxs("div",{className:"relative",children:[c.jsx(jo,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search by prescription ID or patient ID...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prescription ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Issued"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prescription"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(S=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:[S.id.substring(0,8),"..."]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:[S.patient_id.substring(0,8),"..."]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.date_issued).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S.prescription_text}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsxs("button",{onClick:()=>x(S.id),className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[c.jsx(lm,{size:16}),"Dispense"]})})]},S.id))})]}),C.length===0&&c.jsx("p",{className:"px-6 py-8 text-gray-500 text-center",children:"No active prescriptions found"})]})]})]})}function Kf(){const{profile:i,signOut:r}=zt(),n=Ct(),[o,l]=A.useState(""),[u,d]=A.useState(""),[p,m]=A.useState(""),[g,v]=A.useState(null),[w,x]=A.useState(!1),[j,C]=A.useState("");async function S(U){var M;U.preventDefault(),C(""),v(null),x(!0);try{const{data:I,error:H}=await je.functions.invoke("emergency-access",{body:{patientHealthId:o,purpose:u,emergencyType:p,locationCoordinates:"GPS coordinates here"}});if(H)throw H;(M=I==null?void 0:I.data)!=null&&M.patient?v(I.data.patient):C("Patient data not found")}catch(I){console.error("Emergency access error:",I),C(I.message||"Failed to access patient data")}finally{x(!1)}}async function N(){await r(),n("/")}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"MedAssist - Ambulance Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(am,{className:"text-red-600 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-red-900",children:"Emergency Access Only"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This portal provides access to critical patient information during emergencies. All access attempts are logged and monitored for compliance."})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Emergency Patient Lookup"}),j&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:j}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Health ID *"}),c.jsxs("div",{className:"relative",children:[c.jsx(jo,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",required:!0,value:o,onChange:U=>l(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter patient's Health ID"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Type *"}),c.jsxs("select",{required:!0,value:p,onChange:U=>m(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"",children:"Select emergency type"}),c.jsx("option",{value:"cardiac_arrest",children:"Cardiac Arrest"}),c.jsx("option",{value:"severe_trauma",children:"Severe Trauma"}),c.jsx("option",{value:"stroke",children:"Stroke"}),c.jsx("option",{value:"respiratory_distress",children:"Respiratory Distress"}),c.jsx("option",{value:"severe_bleeding",children:"Severe Bleeding"}),c.jsx("option",{value:"unconscious",children:"Unconscious Patient"}),c.jsx("option",{value:"other",children:"Other Critical Emergency"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose / Notes *"}),c.jsx("textarea",{required:!0,value:u,onChange:U=>d(U.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Describe the emergency situation..."})]}),c.jsx("button",{type:"submit",disabled:w,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Accessing...":"Access Emergency Data"})]}),g&&c.jsxs("div",{className:"mt-8 p-6 bg-yellow-50 border-2 border-yellow-300 rounded-lg",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Critical Patient Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Pn,{label:"Name",value:g.full_name}),c.jsx(Pn,{label:"Blood Type",value:g.blood_type||"Not specified",critical:!0}),c.jsx(Pn,{label:"Allergies",value:g.allergies||"None recorded",critical:!0}),c.jsx(Pn,{label:"Chronic Conditions",value:g.chronic_conditions||"None recorded",critical:!0}),c.jsx(Pn,{label:"Emergency Contact",value:g.emergency_contact_name||"Not available"}),c.jsx(Pn,{label:"Emergency Contact Number",value:g.emergency_contact_number||"Not available"})]})]})]})]})]})}function Pn({label:i,value:r,critical:n}){return c.jsxs("div",{className:`grid grid-cols-2 gap-4 ${n?"font-semibold":""}`,children:[c.jsxs("div",{className:"text-gray-700",children:[i,":"]}),c.jsx("div",{className:n?"text-red-900":"text-gray-900",children:r})]})}function Gf(){const{profile:i,signOut:r}=zt(),n=Ct(),[o,l]=A.useState("overview"),[u,d]=A.useState({totalStaff:0,totalAppointments:0,todayAppointments:0,pendingAppointments:0}),[p,m]=A.useState(!1);A.useEffect(()=>{g()},[]);async function g(){m(!0);try{const{data:w}=await je.from("user_profiles").select("id",{count:"exact",head:!0}).eq("hospital_id",i==null?void 0:i.hospital_id),{data:x}=await je.from("appointments").select("*").eq("hospital_id",i==null?void 0:i.hospital_id),j=new Date().toISOString().split("T")[0],C=(x==null?void 0:x.filter(N=>N.appointment_date===j))||[],S=(x==null?void 0:x.filter(N=>N.status==="scheduled"||N.status==="confirmed"))||[];d({totalStaff:(w==null?void 0:w.length)||0,totalAppointments:(x==null?void 0:x.length)||0,todayAppointments:C.length,pendingAppointments:S.length})}catch(w){console.error("Error loading stats:",w)}finally{m(!1)}}async function v(){await r(),n("/")}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"MedAssist - Hospital Admin Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Hospital Administration Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage hospital operations and monitor performance"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(ao,{title:"Total Staff",value:u.totalStaff.toString(),icon:c.jsx(fm,{size:24}),color:"blue"}),c.jsx(ao,{title:"Total Appointments",value:u.totalAppointments.toString(),icon:c.jsx(Tu,{size:24}),color:"green"}),c.jsx(ao,{title:"Today's Appointments",value:u.todayAppointments.toString(),icon:c.jsx(im,{size:24}),color:"purple"}),c.jsx(ao,{title:"Pending Appointments",value:u.pendingAppointments.toString(),icon:c.jsx(om,{size:24}),color:"orange"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[c.jsx(lo,{active:o==="overview",onClick:()=>l("overview"),children:"Overview"}),c.jsx(lo,{active:o==="staff",onClick:()=>l("staff"),children:"Staff Management"}),c.jsx(lo,{active:o==="appointments",onClick:()=>l("appointments"),children:"Appointments"}),c.jsx(lo,{active:o==="reports",onClick:()=>l("reports"),children:"Reports"})]})}),o==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),c.jsx("p",{className:"text-gray-600",children:"Hospital operations overview and recent activities will be displayed here."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(uo,{children:"View Staff Directory"}),c.jsx(uo,{children:"Manage Appointments"}),c.jsx(uo,{children:"Generate Reports"}),c.jsx(uo,{children:"Hospital Settings"})]})]})]}),o==="staff"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Staff Management"}),c.jsxs("p",{className:"text-gray-600",children:["Staff directory, scheduling, and management tools will be available here. Currently showing ",u.totalStaff," staff members."]})]}),o==="appointments"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Appointment Management"}),c.jsxs("p",{className:"text-gray-600",children:["Comprehensive appointment scheduling and management system. Total appointments: ",u.totalAppointments]})]}),o==="reports"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reports & Analytics"}),c.jsx("p",{className:"text-gray-600",children:"Hospital performance reports, analytics dashboards, and data insights."})]})]})]})}function ao({title:i,value:r,icon:n,color:o}){const l={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600"};return c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:i}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:r})]}),c.jsx("div",{className:`p-3 rounded-lg ${l[o]}`,children:n})]})})}function lo({active:i,onClick:r,children:n}){return c.jsx("button",{onClick:r,className:`px-4 py-3 border-b-2 font-medium text-sm transition-colors ${i?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n})}function uo({children:i}){return c.jsx("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:i})}function Jf(){const{profile:i,signOut:r}=zt(),n=Ct(),[o,l]=A.useState("overview"),[u,d]=A.useState("patient_demographics"),[p,m]=A.useState(null),[g,v]=A.useState(!1);async function w(){var j;v(!0);try{const{data:C,error:S}=await je.functions.invoke("analytics-generator",{body:{reportType:u,startDate:null,endDate:null,region:null}});if(S)throw S;(j=C==null?void 0:C.data)!=null&&j.analytics&&m(C.data.analytics)}catch(C){console.error("Analytics error:",C),alert("Error generating report: "+C.message)}finally{v(!1)}}async function x(){await r(),n("/")}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("h1",{className:"text-2xl font-bold text-teal-600",children:"MedAssist - Health Ministry Portal"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.full_name}),c.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Jr,{size:18}),"Logout"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"National Healthcare Analytics"}),c.jsx("p",{className:"text-gray-600",children:"Access anonymized national healthcare data and insights"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[c.jsxs(co,{active:o==="overview",onClick:()=>l("overview"),children:[c.jsx(ux,{size:18}),"Overview"]}),c.jsxs(co,{active:o==="analytics",onClick:()=>l("analytics"),children:[c.jsx(nx,{size:18}),"Analytics"]}),c.jsxs(co,{active:o==="reports",onClick:()=>l("reports"),children:[c.jsx(fm,{size:18}),"Reports"]}),c.jsxs(co,{active:o==="hospitals",onClick:()=>l("hospitals"),children:[c.jsx(om,{size:18}),"Hospitals"]})]})}),o==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx(Xl,{title:"Total Patients",value:"Generating...",description:"Anonymized patient data",color:"blue"}),c.jsx(Xl,{title:"Healthcare Facilities",value:"Generating...",description:"Registered hospitals",color:"green"}),c.jsx(Xl,{title:"Active Prescriptions",value:"Generating...",description:"E-prescriptions issued",color:"purple"})]}),o==="analytics"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Generate Analytics Report"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),c.jsxs("select",{value:u,onChange:j=>d(j.target.value),className:"w-full max-w-md px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"patient_demographics",children:"Patient Demographics"}),c.jsx("option",{value:"appointments_statistics",children:"Appointments Statistics"}),c.jsx("option",{value:"prescription_analytics",children:"Prescription Analytics"}),c.jsx("option",{value:"hospital_capacity",children:"Hospital Capacity Analysis"})]})]}),c.jsx("button",{onClick:w,disabled:g,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Generating Report...":"Generate Report"}),p&&c.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Report Results"}),c.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(p,null,2)})]})]}),o==="reports"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Historical Reports"}),c.jsx("p",{className:"text-gray-600",children:"Access historical healthcare reports and trend analysis data. Reports are anonymized to protect patient privacy."}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(ho,{title:"Monthly Health Statistics",date:"November 2025"}),c.jsx(ho,{title:"Disease Surveillance Report",date:"October 2025"}),c.jsx(ho,{title:"Hospital Capacity Analysis",date:"September 2025"}),c.jsx(ho,{title:"Prescription Trends",date:"August 2025"})]})]}),o==="hospitals"&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Hospital Network Overview"}),c.jsx("p",{className:"text-gray-600",children:"View and analyze data from all registered healthcare facilities across the nation."})]})]})]})}function co({active:i,onClick:r,children:n}){return c.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium text-sm transition-colors ${i?"border-teal-600 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n})}function Xl({title:i,value:r,description:n,color:o}){const l={blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",purple:"bg-purple-50 border-purple-200"};return c.jsxs("div",{className:`rounded-lg border-2 p-6 ${l[o]}`,children:[c.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:i}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:r}),c.jsx("p",{className:"text-sm text-gray-500",children:n})]})}function ho({title:i,date:r}){return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:i}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r})]})}function br({children:i,allowedRoles:r}){const{user:n,profile:o,loading:l}=zt();return l?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!n||!o?c.jsx(Mh,{to:"/login"}):r&&!r.includes(o.role)?c.jsx(Mh,{to:"/"}):c.jsx(c.Fragment,{children:i})}function Lx(){const{profile:i}=zt();return c.jsxs(mv,{children:[c.jsx(Nt,{path:"/",element:c.jsx(cx,{})}),c.jsx(Nt,{path:"/login",element:c.jsx(dx,{})}),c.jsx(Nt,{path:"/signup",element:c.jsx(hx,{})}),c.jsx(Nt,{path:"/portal",element:c.jsxs(br,{children:[(i==null?void 0:i.role)==="doctor"&&c.jsx(Bf,{}),(i==null?void 0:i.role)==="patient"&&c.jsx(qf,{}),(i==null?void 0:i.role)==="lab_attendant"&&c.jsx(Vf,{}),(i==null?void 0:i.role)==="pharmacy"&&c.jsx(Hf,{}),(i==null?void 0:i.role)==="ambulance"&&c.jsx(Kf,{}),(i==null?void 0:i.role)==="hospital_admin"&&c.jsx(Gf,{}),(i==null?void 0:i.role)==="health_ministry"&&c.jsx(Jf,{})]})}),c.jsx(Nt,{path:"/doctor",element:c.jsx(br,{allowedRoles:["doctor"],children:c.jsx(Bf,{})})}),c.jsx(Nt,{path:"/patient",element:c.jsx(br,{allowedRoles:["patient"],children:c.jsx(qf,{})})}),c.jsx(Nt,{path:"/lab",element:c.jsx(br,{allowedRoles:["lab_attendant"],children:c.jsx(Vf,{})})}),c.jsx(Nt,{path:"/pharmacy",element:c.jsx(br,{allowedRoles:["pharmacy"],children:c.jsx(Hf,{})})}),c.jsx(Nt,{path:"/ambulance",element:c.jsx(br,{allowedRoles:["ambulance"],children:c.jsx(Kf,{})})}),c.jsx(Nt,{path:"/hospital-admin",element:c.jsx(br,{allowedRoles:["hospital_admin"],children:c.jsx(Gf,{})})}),c.jsx(Nt,{path:"/ministry",element:c.jsx(br,{allowedRoles:["health_ministry"],children:c.jsx(Jf,{})})})]})}function $x(){return c.jsx(ex,{children:c.jsx(_v,{children:c.jsx(Lx,{})})})}_y.createRoot(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(Sy,{children:c.jsx($x,{})})}));
